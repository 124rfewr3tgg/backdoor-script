loadstring(game:HttpGet("data:text/plain;base64,LS1bPVsKIGQ4ODhiICBkYiAgICBkYiBkODg4ODg4YiAgICAgIC5kODg4Yi4gICAgICBkYiAgICAgIGRiICAgIGRiICAuZDhiLiAgCjg4JyBZOGIgODggICAgODggICBgODgnICAgICAgICBWUCAgYDhEICAgICAgODggICAgICA4OCAgICA4OCBkOCcgYDhiIAo4OCAgICAgIDg4ICAgIDg4ICAgIDg4ICAgICAgICAgICAgb2REJyAgICAgIDg4ICAgICAgODggICAgODggODhvb284OCAKODggIG9vbyA4OCAgICA4OCAgICA4OCAgICAgICAgICAuODgnICAgICAgICA4OCAgICAgIDg4ICAgIDg4IDg4fn5+ODggCjg4LiB+OH4gODhiICBkODggICAuODguICAgICAgICBqODguICAgICAgICAgODhib29vLiA4OGIgIGQ4OCA4OCAgIDg4IAogWTg4OFAgIH5ZODg4OFAnIFk4ODg4ODhQICAgICAgODg4ODg4RCAgICAgIFk4ODg4OFAgflk4ODg4UCcgWVAgICBZUCAgQ09OVkVSVEVSCl09XQoKLS0gSW5zdGFuY2VzOiAzMyB8IFNjcmlwdHM6IDMgfCBNb2R1bGVzOiAzCmxvY2FsIEcyTCA9IHt9OwoKLS0gU3RhcnRlckd1aS5MQUxPTCBIdWIgQmFja2Rvb3IKRzJMWyIxIl0gPSBJbnN0YW5jZS5uZXcoIlNjcmVlbkd1aSIsIGdhbWU6R2V0U2VydmljZSgnQ29yZUd1aScpOldhaXRGb3JDaGlsZCgnUm9ibG94R3VpJykpOwpHMkxbIjEiXVsiTmFtZSJdID0gW1tMQUxPTCBIdWIgQmFja2Rvb3JdXTsKRzJMWyIxIl1bIlpJbmRleEJlaGF2aW9yIl0gPSBFbnVtLlpJbmRleEJlaGF2aW9yLlNpYmxpbmc7CkcyTFsiMSJdWyJSZXNldE9uU3Bhd24iXSA9IGZhbHNlOwoKLS0gU3RhcnRlckd1aS5MQUxPTCBIdWIgQmFja2Rvb3IuRnJhbWUKRzJMWyIyIl0gPSBJbnN0YW5jZS5uZXcoIkZyYW1lIiwgRzJMWyIxIl0pOwpHMkxbIjIiXVsiQmFja2dyb3VuZENvbG9yMyJdID0gQ29sb3IzLmZyb21SR0IoMCwgMCwgMCk7CkcyTFsiMiJdWyJTaXplIl0gPSBVRGltMi5uZXcoMCwgNDgyLCAwLCAyNzYpOwpHMkxbIjIiXVsiUG9zaXRpb24iXSA9IFVEaW0yLm5ldygwLjI3MzIwMTI1Njk5MDQzMjc0LCAwLCAwLjMwMTg1OTc5NjA0NzIxMDcsIDApOwoKLS0gU3RhcnRlckd1aS5MQUxPTCBIdWIgQmFja2Rvb3IuRnJhbWUuVUlTdHJva2UKRzJMWyIzIl0gPSBJbnN0YW5jZS5uZXcoIlVJU3Ryb2tlIiwgRzJMWyIyIl0pOwpHMkxbIjMiXVsiQ29sb3IiXSA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpOwoKLS0gU3RhcnRlckd1aS5MQUxPTCBIdWIgQmFja2Rvb3IuRnJhbWUuVUlTdHJva2UuVUlHcmFkaWVudApHMkxbIjQiXSA9IEluc3RhbmNlLm5ldygiVUlHcmFkaWVudCIsIEcyTFsiMyJdKTsKRzJMWyI0Il1bIlJvdGF0aW9uIl0gPSA1MDsKRzJMWyI0Il1bIkNvbG9yIl0gPSBDb2xvclNlcXVlbmNlLm5ld3tDb2xvclNlcXVlbmNlS2V5cG9pbnQubmV3KDAuMDAwLCBDb2xvcjMuZnJvbVJHQigyNTUsIDAsIDApKSxDb2xvclNlcXVlbmNlS2V5cG9pbnQubmV3KDEuMDAwLCBDb2xvcjMuZnJvbVJHQigyNTUsIDAsIDI1NSkpfTsKCi0tIFN0YXJ0ZXJHdWkuTEFMT0wgSHViIEJhY2tkb29yLkZyYW1lLlVJQ29ybmVyCkcyTFsiNSJdID0gSW5zdGFuY2UubmV3KCJVSUNvcm5lciIsIEcyTFsiMiJdKTsKCgotLSBTdGFydGVyR3VpLkxBTE9MIEh1YiBCYWNrZG9vci5GcmFtZS5FeGVjdXRvcgpHMkxbIjYiXSA9IEluc3RhbmNlLm5ldygiRm9sZGVyIiwgRzJMWyIyIl0pOwpHMkxbIjYiXVsiTmFtZSJdID0gW1tFeGVjdXRvcl1dOwoKLS0gU3RhcnRlckd1aS5MQUxPTCBIdWIgQmFja2Rvb3IuRnJhbWUuRXhlY3V0b3IuRXhlY3V0ZQpHMkxbIjciXSA9IEluc3RhbmNlLm5ldygiRnJhbWUiLCBHMkxbIjYiXSk7CkcyTFsiNyJdWyJCYWNrZ3JvdW5kQ29sb3IzIl0gPSBDb2xvcjMuZnJvbVJHQigwLCAwLCAwKTsKRzJMWyI3Il1bIkJhY2tncm91bmRUcmFuc3BhcmVuY3kiXSA9IDE7CkcyTFsiNyJdWyJTaXplIl0gPSBVRGltMi5uZXcoMCwgMjkwLCAwLCAyOCk7CkcyTFsiNyJdWyJQb3NpdGlvbiJdID0gVURpbTIubmV3KDAuMDIxNjk5ODM0NjE0OTkyMTQsIDAsIDAuODcwODEwOTI1OTYwNTQwOCwgMCk7CkcyTFsiNyJdWyJOYW1lIl0gPSBbW0V4ZWN1dGVdXTsKCi0tIFN0YXJ0ZXJHdWkuTEFMT0wgSHViIEJhY2tkb29yLkZyYW1lLkV4ZWN1dG9yLkV4ZWN1dGUuQnV0dG9uCkcyTFsiOCJdID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIiwgRzJMWyI3Il0pOwpHMkxbIjgiXVsiQmFja2dyb3VuZENvbG9yMyJdID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSk7CkcyTFsiOCJdWyJUZXh0U2l6ZSJdID0gMjI7CkcyTFsiOCJdWyJGb250RmFjZSJdID0gRm9udC5uZXcoW1tyYnhhc3NldDovL2ZvbnRzL2ZhbWlsaWVzL0dvdGhhbVNTbS5qc29uXV0sIEVudW0uRm9udFdlaWdodC5Cb2xkLCBFbnVtLkZvbnRTdHlsZS5Ob3JtYWwpOwpHMkxbIjgiXVsiVGV4dENvbG9yMyJdID0gQ29sb3IzLmZyb21SR0IoNTEsIDIxNSwgMCk7CkcyTFsiOCJdWyJTaXplIl0gPSBVRGltMi5uZXcoMSwgMCwgMSwgMCk7CkcyTFsiOCJdWyJOYW1lIl0gPSBbW0J1dHRvbl1dOwpHMkxbIjgiXVsiVGV4dCJdID0gW1tFeGVjdXRlXV07CkcyTFsiOCJdWyJCYWNrZ3JvdW5kVHJhbnNwYXJlbmN5Il0gPSAxOwoKLS0gU3RhcnRlckd1aS5MQUxPTCBIdWIgQmFja2Rvb3IuRnJhbWUuRXhlY3V0b3IuRXhlY3V0ZS5VSUNvcm5lcgpHMkxbIjkiXSA9IEluc3RhbmNlLm5ldygiVUlDb3JuZXIiLCBHMkxbIjciXSk7CgoKLS0gU3RhcnRlckd1aS5MQUxPTCBIdWIgQmFja2Rvb3IuRnJhbWUuRXhlY3V0b3IuRXhlY3V0ZS5VSVN0cm9rZQpHMkxbImEiXSA9IEluc3RhbmNlLm5ldygiVUlTdHJva2UiLCBHMkxbIjciXSk7CkcyTFsiYSJdWyJDb2xvciJdID0gQ29sb3IzLmZyb21SR0IoNTEsIDIxNSwgMCk7CgotLSBTdGFydGVyR3VpLkxBTE9MIEh1YiBCYWNrZG9vci5GcmFtZS5FeGVjdXRvci5DbGVhcgpHMkxbImIiXSA9IEluc3RhbmNlLm5ldygiRnJhbWUiLCBHMkxbIjYiXSk7CkcyTFsiYiJdWyJCYWNrZ3JvdW5kQ29sb3IzIl0gPSBDb2xvcjMuZnJvbVJHQigwLCAwLCAwKTsKRzJMWyJiIl1bIkJhY2tncm91bmRUcmFuc3BhcmVuY3kiXSA9IDE7CkcyTFsiYiJdWyJTaXplIl0gPSBVRGltMi5uZXcoMCwgMTYyLCAwLCAyOCk7CkcyTFsiYiJdWyJQb3NpdGlvbiJdID0gVURpbTIubmV3KDAuNjQwMDU4Mjc5MDM3NDc1NiwgMCwgMC44NzA4MTA5ODU1NjUxODU1LCAwKTsKRzJMWyJiIl1bIk5hbWUiXSA9IFtbQ2xlYXJdXTsKCi0tIFN0YXJ0ZXJHdWkuTEFMT0wgSHViIEJhY2tkb29yLkZyYW1lLkV4ZWN1dG9yLkNsZWFyLkJ1dHRvbgpHMkxbImMiXSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIsIEcyTFsiYiJdKTsKRzJMWyJjIl1bIkJhY2tncm91bmRDb2xvcjMiXSA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpOwpHMkxbImMiXVsiVGV4dFNpemUiXSA9IDIyOwpHMkxbImMiXVsiRm9udEZhY2UiXSA9IEZvbnQubmV3KFtbcmJ4YXNzZXQ6Ly9mb250cy9mYW1pbGllcy9Hb3RoYW1TU20uanNvbl1dLCBFbnVtLkZvbnRXZWlnaHQuQm9sZCwgRW51bS5Gb250U3R5bGUuTm9ybWFsKTsKRzJMWyJjIl1bIlRleHRDb2xvcjMiXSA9IENvbG9yMy5mcm9tUkdCKDM2LCAyMzYsIDIwMyk7CkcyTFsiYyJdWyJTaXplIl0gPSBVRGltMi5uZXcoMSwgMCwgMSwgMCk7CkcyTFsiYyJdWyJOYW1lIl0gPSBbW0J1dHRvbl1dOwpHMkxbImMiXVsiVGV4dCJdID0gW1tDbGVhcl1dOwpHMkxbImMiXVsiQmFja2dyb3VuZFRyYW5zcGFyZW5jeSJdID0gMTsKCi0tIFN0YXJ0ZXJHdWkuTEFMT0wgSHViIEJhY2tkb29yLkZyYW1lLkV4ZWN1dG9yLkNsZWFyLlVJQ29ybmVyCkcyTFsiZCJdID0gSW5zdGFuY2UubmV3KCJVSUNvcm5lciIsIEcyTFsiYiJdKTsKCgotLSBTdGFydGVyR3VpLkxBTE9MIEh1YiBCYWNrZG9vci5GcmFtZS5FeGVjdXRvci5DbGVhci5VSVN0cm9rZQpHMkxbImUiXSA9IEluc3RhbmNlLm5ldygiVUlTdHJva2UiLCBHMkxbImIiXSk7CkcyTFsiZSJdWyJDb2xvciJdID0gQ29sb3IzLmZyb21SR0IoMzYsIDIzNiwgMjAzKTsKCi0tIFN0YXJ0ZXJHdWkuTEFMT0wgSHViIEJhY2tkb29yLkZyYW1lLkV4ZWN1dG9yLkV4ZWN1dG9yQm94CkcyTFsiZiJdID0gSW5zdGFuY2UubmV3KCJGcmFtZSIsIEcyTFsiNiJdKTsKRzJMWyJmIl1bIkJhY2tncm91bmRDb2xvcjMiXSA9IENvbG9yMy5mcm9tUkdCKDIyLCAyMiwgMjIpOwpHMkxbImYiXVsiU2l6ZSJdID0gVURpbTIubmV3KDAsIDQ2MiwgMCwgMTYzKTsKRzJMWyJmIl1bIlBvc2l0aW9uIl0gPSBVRGltMi5uZXcoMC4wMTk2MjkwNzIzOTc5NDczMSwgMCwgMC4yNDMxMDEzNzMzMTQ4NTc0OCwgMCk7CkcyTFsiZiJdWyJOYW1lIl0gPSBbW0V4ZWN1dG9yQm94XV07CgotLSBTdGFydGVyR3VpLkxBTE9MIEh1YiBCYWNrZG9vci5GcmFtZS5FeGVjdXRvci5FeGVjdXRvckJveC5VSUNvcm5lcgpHMkxbIjEwIl0gPSBJbnN0YW5jZS5uZXcoIlVJQ29ybmVyIiwgRzJMWyJmIl0pOwoKCi0tIFN0YXJ0ZXJHdWkuTEFMT0wgSHViIEJhY2tkb29yLkZyYW1lLkV4ZWN1dG9yLkV4ZWN1dG9yQm94LlRleHRCb3gKRzJMWyIxMSJdID0gSW5zdGFuY2UubmV3KCJUZXh0Qm94IiwgRzJMWyJmIl0pOwpHMkxbIjExIl1bIlRleHRTaXplIl0gPSAxNDsKRzJMWyIxMSJdWyJUZXh0WEFsaWdubWVudCJdID0gRW51bS5UZXh0WEFsaWdubWVudC5MZWZ0OwpHMkxbIjExIl1bIlRleHRXcmFwcGVkIl0gPSB0cnVlOwpHMkxbIjExIl1bIlRleHRZQWxpZ25tZW50Il0gPSBFbnVtLlRleHRZQWxpZ25tZW50LlRvcDsKRzJMWyIxMSJdWyJCYWNrZ3JvdW5kQ29sb3IzIl0gPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KTsKRzJMWyIxMSJdWyJUZXh0Q29sb3IzIl0gPSBDb2xvcjMuZnJvbVJHQigxOTgsIDExOSwgODgpOwpHMkxbIjExIl1bIkZvbnRGYWNlIl0gPSBGb250Lm5ldyhbW3JieGFzc2V0Oi8vZm9udHMvZmFtaWxpZXMvR290aGFtU1NtLmpzb25dXSwgRW51bS5Gb250V2VpZ2h0LkJvbGQsIEVudW0uRm9udFN0eWxlLk5vcm1hbCk7CkcyTFsiMTEiXVsiTXVsdGlMaW5lIl0gPSB0cnVlOwpHMkxbIjExIl1bIkJhY2tncm91bmRUcmFuc3BhcmVuY3kiXSA9IDE7CkcyTFsiMTEiXVsiUGxhY2Vob2xkZXJUZXh0Il0gPSBbW3JlcXVpcmUoNjY2NjY2NikubG9hZCgiYzAwbGtpZGQiKV1dOwpHMkxbIjExIl1bIlNpemUiXSA9IFVEaW0yLm5ldygwLCA0NDgsIDAsIDE1MCk7CkcyTFsiMTEiXVsiVGV4dCJdID0gW1tdXTsKRzJMWyIxMSJdWyJQb3NpdGlvbiJdID0gVURpbTIubmV3KDAuMDE1NjkyNjQwMDk1OTQ5MTczLCAwLCAwLjA0MjI3MDAyNzEwMTAzOTg4NiwgMCk7CkcyTFsiMTEiXVsiQ2xlYXJUZXh0T25Gb2N1cyJdID0gZmFsc2U7CgotLSBTdGFydGVyR3VpLkxBTE9MIEh1YiBCYWNrZG9vci5GcmFtZS5FeGVjdXRvci5FeGVjdXRvckJveC5UZXh0Qm94LkhpZ2hsaWdodApHMkxbIjEyIl0gPSBJbnN0YW5jZS5uZXcoIkxvY2FsU2NyaXB0IiwgRzJMWyIxMSJdKTsKRzJMWyIxMiJdWyJOYW1lIl0gPSBbW0hpZ2hsaWdodF1dOwoKLS0gU3RhcnRlckd1aS5MQUxPTCBIdWIgQmFja2Rvb3IuRnJhbWUuRXhlY3V0b3IuRXhlY3V0b3JCb3guVGV4dEJveC5IaWdobGlnaHQuSGlnaGxpZ2h0ZXIKRzJMWyIxMyJdID0gSW5zdGFuY2UubmV3KCJNb2R1bGVTY3JpcHQiLCBHMkxbIjEyIl0pOwpHMkxbIjEzIl1bIk5hbWUiXSA9IFtbSGlnaGxpZ2h0ZXJdXTsKCi0tIFN0YXJ0ZXJHdWkuTEFMT0wgSHViIEJhY2tkb29yLkZyYW1lLkV4ZWN1dG9yLkV4ZWN1dG9yQm94LlRleHRCb3guSGlnaGxpZ2h0LkhpZ2hsaWdodGVyLmxleGVyCkcyTFsiMTQiXSA9IEluc3RhbmNlLm5ldygiTW9kdWxlU2NyaXB0IiwgRzJMWyIxMyJdKTsKRzJMWyIxNCJdWyJOYW1lIl0gPSBbW2xleGVyXV07CgotLSBTdGFydGVyR3VpLkxBTE9MIEh1YiBCYWNrZG9vci5GcmFtZS5FeGVjdXRvci5FeGVjdXRvckJveC5UZXh0Qm94LkhpZ2hsaWdodC5IaWdobGlnaHRlci5sZXhlci5sYW5ndWFnZQpHMkxbIjE1Il0gPSBJbnN0YW5jZS5uZXcoIk1vZHVsZVNjcmlwdCIsIEcyTFsiMTQiXSk7CkcyTFsiMTUiXVsiTmFtZSJdID0gW1tsYW5ndWFnZV1dOwoKLS0gU3RhcnRlckd1aS5MQUxPTCBIdWIgQmFja2Rvb3IuRnJhbWUuU2Nhbm5lcgpHMkxbIjE2Il0gPSBJbnN0YW5jZS5uZXcoIkZyYW1lIiwgRzJMWyIyIl0pOwpHMkxbIjE2Il1bIkJhY2tncm91bmRDb2xvcjMiXSA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpOwpHMkxbIjE2Il1bIkJhY2tncm91bmRUcmFuc3BhcmVuY3kiXSA9IDE7CkcyTFsiMTYiXVsiU2l6ZSJdID0gVURpbTIubmV3KDAsIDM3MCwgMCwgMTA3KTsKRzJMWyIxNiJdWyJQb3NpdGlvbiJdID0gVURpbTIubmV3KDAuMTE2NjY3MDAyNDM5NDk4OSwgMCwgMC4zMDQ3ODM4MjExMDU5NTcwMywgMCk7CkcyTFsiMTYiXVsiVmlzaWJsZSJdID0gZmFsc2U7CkcyTFsiMTYiXVsiTmFtZSJdID0gW1tTY2FubmVyXV07CgotLSBTdGFydGVyR3VpLkxBTE9MIEh1YiBCYWNrZG9vci5GcmFtZS5TY2FubmVyLlVJU3Ryb2tlCkcyTFsiMTciXSA9IEluc3RhbmNlLm5ldygiVUlTdHJva2UiLCBHMkxbIjE2Il0pOwpHMkxbIjE3Il1bIkNvbG9yIl0gPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KTsKCi0tIFN0YXJ0ZXJHdWkuTEFMT0wgSHViIEJhY2tkb29yLkZyYW1lLlNjYW5uZXIuVUlTdHJva2UuVUlHcmFkaWVudApHMkxbIjE4Il0gPSBJbnN0YW5jZS5uZXcoIlVJR3JhZGllbnQiLCBHMkxbIjE3Il0pOwpHMkxbIjE4Il1bIlJvdGF0aW9uIl0gPSA1MDsKRzJMWyIxOCJdWyJDb2xvciJdID0gQ29sb3JTZXF1ZW5jZS5uZXd7Q29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygwLjAwMCwgQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDEwOCkpLENvbG9yU2VxdWVuY2VLZXlwb2ludC5uZXcoMS4wMDAsIENvbG9yMy5mcm9tUkdCKDI1NSwgMjMxLCAxNzEpKX07CgotLSBTdGFydGVyR3VpLkxBTE9MIEh1YiBCYWNrZG9vci5GcmFtZS5TY2FubmVyLlVJQ29ybmVyCkcyTFsiMTkiXSA9IEluc3RhbmNlLm5ldygiVUlDb3JuZXIiLCBHMkxbIjE2Il0pOwoKCi0tIFN0YXJ0ZXJHdWkuTEFMT0wgSHViIEJhY2tkb29yLkZyYW1lLlNjYW5uZXIuQnV0dG9uCkcyTFsiMWEiXSA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIsIEcyTFsiMTYiXSk7CkcyTFsiMWEiXVsiQmFja2dyb3VuZENvbG9yMyJdID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyNTUsIDI1NSk7CkcyTFsiMWEiXVsiVGV4dFNpemUiXSA9IDQzOwpHMkxbIjFhIl1bIkZvbnRGYWNlIl0gPSBGb250Lm5ldyhbW3JieGFzc2V0Oi8vZm9udHMvZmFtaWxpZXMvR290aGFtU1NtLmpzb25dXSwgRW51bS5Gb250V2VpZ2h0LkJvbGQsIEVudW0uRm9udFN0eWxlLk5vcm1hbCk7CkcyTFsiMWEiXVsiVGV4dENvbG9yMyJdID0gQ29sb3IzLmZyb21SR0IoMCwgMCwgMCk7CkcyTFsiMWEiXVsiU2l6ZSJdID0gVURpbTIubmV3KDEsIDAsIDEsIDApOwpHMkxbIjFhIl1bIk5hbWUiXSA9IFtbQnV0dG9uXV07CkcyTFsiMWEiXVsiVGV4dCJdID0gW1tTdGFydCBTY2FubmluZ11dOwpHMkxbIjFhIl1bIkJhY2tncm91bmRUcmFuc3BhcmVuY3kiXSA9IDE7CgotLSBTdGFydGVyR3VpLkxBTE9MIEh1YiBCYWNrZG9vci5GcmFtZS5TY2FubmVyLkJ1dHRvbi5VSUdyYWRpZW50CkcyTFsiMWIiXSA9IEluc3RhbmNlLm5ldygiVUlHcmFkaWVudCIsIEcyTFsiMWEiXSk7CkcyTFsiMWIiXVsiUm90YXRpb24iXSA9IDUwOwpHMkxbIjFiIl1bIkNvbG9yIl0gPSBDb2xvclNlcXVlbmNlLm5ld3tDb2xvclNlcXVlbmNlS2V5cG9pbnQubmV3KDAuMDAwLCBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMTA4KSksQ29sb3JTZXF1ZW5jZUtleXBvaW50Lm5ldygxLjAwMCwgQ29sb3IzLmZyb21SR0IoMjU1LCAyMzEsIDE3MSkpfTsKCi0tIFN0YXJ0ZXJHdWkuTEFMT0wgSHViIEJhY2tkb29yLkZyYW1lLlNjYW5uZXIuQnV0dG9uLlVJU3Ryb2tlCkcyTFsiMWMiXSA9IEluc3RhbmNlLm5ldygiVUlTdHJva2UiLCBHMkxbIjFhIl0pOwpHMkxbIjFjIl1bIkNvbG9yIl0gPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KTsKCi0tIFN0YXJ0ZXJHdWkuTEFMT0wgSHViIEJhY2tkb29yLkZyYW1lLlRleHRMYWJlbApHMkxbIjFkIl0gPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIsIEcyTFsiMiJdKTsKRzJMWyIxZCJdWyJCYWNrZ3JvdW5kQ29sb3IzIl0gPSBDb2xvcjMuZnJvbVJHQigyNTUsIDI1NSwgMjU1KTsKRzJMWyIxZCJdWyJGb250RmFjZSJdID0gRm9udC5uZXcoW1tyYnhhc3NldGlkOi8vMTIxODczNjU5NzddXSwgRW51bS5Gb250V2VpZ2h0LkJvbGQsIEVudW0uRm9udFN0eWxlLk5vcm1hbCk7CkcyTFsiMWQiXVsiVGV4dFNpemUiXSA9IDQ5OwpHMkxbIjFkIl1bIlRleHRDb2xvcjMiXSA9IENvbG9yMy5mcm9tUkdCKDAsIDAsIDApOwpHMkxbIjFkIl1bIlNpemUiXSA9IFVEaW0yLm5ldygwLCA0NjAsIDAsIDUwKTsKRzJMWyIxZCJdWyJUZXh0Il0gPSBbW0xBTE9MIEh1YiBCYWNrZG9vcl1dOwpHMkxbIjFkIl1bIkJhY2tncm91bmRUcmFuc3BhcmVuY3kiXSA9IDE7CkcyTFsiMWQiXVsiUG9zaXRpb24iXSA9IFVEaW0yLm5ldygwLjAyMTY5OTgzNDYxNDk5MjE0LCAwLCAwLjAyNTM2MjMxODM4MTY2NzEzNywgMCk7CgotLSBTdGFydGVyR3VpLkxBTE9MIEh1YiBCYWNrZG9vci5GcmFtZS5UZXh0TGFiZWwuVUlTdHJva2UKRzJMWyIxZSJdID0gSW5zdGFuY2UubmV3KCJVSVN0cm9rZSIsIEcyTFsiMWQiXSk7CkcyTFsiMWUiXVsiQ29sb3IiXSA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpOwoKLS0gU3RhcnRlckd1aS5MQUxPTCBIdWIgQmFja2Rvb3IuRnJhbWUuVGV4dExhYmVsLlVJU3Ryb2tlLlVJR3JhZGllbnQKRzJMWyIxZiJdID0gSW5zdGFuY2UubmV3KCJVSUdyYWRpZW50IiwgRzJMWyIxZSJdKTsKRzJMWyIxZiJdWyJSb3RhdGlvbiJdID0gNTA7CkcyTFsiMWYiXVsiQ29sb3IiXSA9IENvbG9yU2VxdWVuY2UubmV3e0NvbG9yU2VxdWVuY2VLZXlwb2ludC5uZXcoMC4wMDAsIENvbG9yMy5mcm9tUkdCKDI1NSwgMCwgMCkpLENvbG9yU2VxdWVuY2VLZXlwb2ludC5uZXcoMS4wMDAsIENvbG9yMy5mcm9tUkdCKDI1NSwgMCwgMjU1KSl9OwoKLS0gU3RhcnRlckd1aS5MQUxPTCBIdWIgQmFja2Rvb3IuTG9jYWxTY3JpcHQKRzJMWyIyMCJdID0gSW5zdGFuY2UubmV3KCJMb2NhbFNjcmlwdCIsIEcyTFsiMSJdKTsKCgotLSBTdGFydGVyR3VpLkxBTE9MIEh1YiBCYWNrZG9vci5EcmFnaWZ5CkcyTFsiMjEiXSA9IEluc3RhbmNlLm5ldygiTG9jYWxTY3JpcHQiLCBHMkxbIjEiXSk7CkcyTFsiMjEiXVsiTmFtZSJdID0gW1tEcmFnaWZ5XV07CgotLSBSZXF1aXJlIEcyTCB3cmFwcGVyCmxvY2FsIEcyTF9SRVFVSVJFID0gcmVxdWlyZTsKbG9jYWwgRzJMX01PRFVMRVMgPSB7fTsKbG9jYWwgZnVuY3Rpb24gcmVxdWlyZShNb2R1bGU6TW9kdWxlU2NyaXB0KQogICAgbG9jYWwgTW9kdWxlU3RhdGUgPSBHMkxfTU9EVUxFU1tNb2R1bGVdOwogICAgaWYgTW9kdWxlU3RhdGUgdGhlbgogICAgICAgIGlmIG5vdCBNb2R1bGVTdGF0ZS5SZXF1aXJlZCB0aGVuCiAgICAgICAgICAgIE1vZHVsZVN0YXRlLlJlcXVpcmVkID0gdHJ1ZTsKICAgICAgICAgICAgTW9kdWxlU3RhdGUuVmFsdWUgPSBNb2R1bGVTdGF0ZS5DbG9zdXJlKCk7CiAgICAgICAgZW5kCiAgICAgICAgcmV0dXJuIE1vZHVsZVN0YXRlLlZhbHVlOwogICAgZW5kOwogICAgcmV0dXJuIEcyTF9SRVFVSVJFKE1vZHVsZSk7CmVuZAoKRzJMX01PRFVMRVNbRzJMWyIxMyJdXSA9IHsKQ2xvc3VyZSA9IGZ1bmN0aW9uKCkKCQlsb2NhbCBzY3JpcHQgPSBHMkxbIjEzIl07Ci0tW1sKZXhwb3J0IHR5cGUgSGlnaGxpZ2h0ZXJDb2xvcnMgPSB7IFtzdHJpbmddOiBDb2xvcjMgfQoKZXhwb3J0IHR5cGUgVGV4dE9iamVjdCA9IFRleHRMYWJlbCB8IFRleHRCb3gKCmV4cG9ydCB0eXBlIEhpZ2hsaWdodFByb3BzID0gewoJdGV4dE9iamVjdDogVGV4dE9iamVjdCwKCXNyYzogc3RyaW5nPywKCWZvcmNlVXBkYXRlOiBib29sZWFuPywKCWxleGVyOiBMZXhlcj8sCgljdXN0b21MYW5nOiB7IFtzdHJpbmddOiBzdHJpbmcgfT8KfQoKZXhwb3J0IHR5cGUgTGV4ZXIgPSB7CglzY2FuOiAoc3JjOiBzdHJpbmcpIC0+ICgpIC0+IChzdHJpbmcsIHN0cmluZyksCgluYXZpZ2F0b3I6ICgpIC0+IGFueSwKCWZpbmlzaGVkOiBib29sZWFuPywKfQoKZXhwb3J0IHR5cGUgSGlnaGxpZ2h0ZXIgPSB7CglkZWZhdWx0TGV4ZXI6IExleGVyLAoJc2V0VG9rZW5Db2xvcnM6IChjb2xvcnM6IEhpZ2hsaWdodGVyQ29sb3JzPykgLT4gKCksCgloaWdobGlnaHQ6IChwcm9wczogSGlnaGxpZ2h0UHJvcHMpIC0+ICgoKSAtPiAoKSk/LAoJcmVmcmVzaDogKCkgLT4gKCksCn0KCmV4cG9ydCB0eXBlIE9iamVjdERhdGEgPSB7CglUZXh0OiBzdHJpbmcsCglMYWJlbHM6IHsgVGV4dExhYmVsIH0sCglMaW5lczogeyBzdHJpbmcgfSwKCUxleGVyOiBMZXhlcj8sCglDdXN0b21MYW5nOiB7IFtzdHJpbmddOiBzdHJpbmcgfT8sCn0KLS1dXQoKbG9jYWwgZnVuY3Rpb24gU2FuaXRpemVUYWJzKHM6IHN0cmluZyk6IHN0cmluZwoJcmV0dXJuIHN0cmluZy5nc3ViKHMsICJcdCIsICIgICAgIikKZW5kCgpsb2NhbCBmdW5jdGlvbiBTYW5pdGl6ZUNvbnRyb2woczogc3RyaW5nKTogc3RyaW5nCglyZXR1cm4gc3RyaW5nLmdzdWIocywgIltcMFwxXDJcM1w0XDVcNlw3XDhcMTFcMTJcMTNcMTRcMTVcMTZcMTdcMThcMTlcMjBcMjFcMjJcMjNcMjRcMjVcMjZcMjdcMjhcMjlcMzBcMzFdKyIsICIiKQplbmQKCmxvY2FsIFRva2VuQ29sb3JzOiBIaWdobGlnaHRlckNvbG9ycyA9IHsKCVsiYmFja2dyb3VuZCJdID0gQ29sb3IzLmZyb21SR0IoNDcsIDQ3LCA0NyksCglbImlkZW4iXSA9IENvbG9yMy5mcm9tUkdCKDIzNCwgMjM0LCAyMzQpLAoJWyJrZXl3b3JkIl0gPSBDb2xvcjMuZnJvbVJHQigyMTUsIDE3NCwgMjU1KSwKCVsiYnVpbHRpbiJdID0gQ29sb3IzLmZyb21SR0IoMTMxLCAyMDYsIDI1NSksCglbInN0cmluZyJdID0gQ29sb3IzLmZyb21SR0IoMTk2LCAyNTUsIDE5MyksCglbIm51bWJlciJdID0gQ29sb3IzLmZyb21SR0IoMjU1LCAxMjUsIDEyNSksCglbImNvbW1lbnQiXSA9IENvbG9yMy5mcm9tUkdCKDE0MCwgMTQwLCAxNTUpLAoJWyJvcGVyYXRvciJdID0gQ29sb3IzLmZyb21SR0IoMjU1LCAyMzksIDE0OCksCglbImN1c3RvbSJdID0gQ29sb3IzLmZyb21SR0IoMTE5LCAxMjIsIDI1NSksCn0KbG9jYWwgQ29sb3JGb3JtYXR0ZXI6IHsgW0NvbG9yM106IHN0cmluZyB9ID0ge30KbG9jYWwgTGFzdERhdGE6IHsgW1RleHRPYmplY3RdOiBPYmplY3REYXRhIH0gPSB7fQpsb2NhbCBDbGVhbnVwczogeyBbVGV4dE9iamVjdF06ICgpIC0+ICgpIH0gPSB7fQoKbG9jYWwgSGlnaGxpZ2h0ZXIgPSB7CglkZWZhdWx0TGV4ZXIgPSByZXF1aXJlKHNjcmlwdC5sZXhlciksCn0KCmZ1bmN0aW9uIEhpZ2hsaWdodGVyLmhpZ2hsaWdodChwcm9wczogSGlnaGxpZ2h0UHJvcHMpCgktLSBHYXRoZXIgcHJvcHMKCWxvY2FsIHRleHRPYmplY3QgPSBwcm9wcy50ZXh0T2JqZWN0Cglsb2NhbCBzcmMgPSBTYW5pdGl6ZVRhYnMoU2FuaXRpemVDb250cm9sKHByb3BzLnNyYyBvciB0ZXh0T2JqZWN0LlRleHQpKQoJbG9jYWwgbGV4ZXIgPSBwcm9wcy5sZXhlciBvciBIaWdobGlnaHRlci5kZWZhdWx0TGV4ZXIKCWxvY2FsIGN1c3RvbUxhbmcgPSBwcm9wcy5jdXN0b21MYW5nCglsb2NhbCBmb3JjZVVwZGF0ZSA9IHByb3BzLmZvcmNlVXBkYXRlCgoJLS0gQXZvaWQgdXBkYXRpbmcgd2hlbiB1bm5lY2Vzc2FyeQoJbG9jYWwgZGF0YSA9IExhc3REYXRhW3RleHRPYmplY3RdCglpZiBkYXRhID09IG5pbCB0aGVuCgkJZGF0YSA9IHsKCQkJVGV4dCA9ICIiLAoJCQlMYWJlbHMgPSB7fSwKCQkJTGluZXMgPSB7fSwKCQkJTGV4ZXIgPSBsZXhlciwKCQkJQ3VzdG9tTGFuZyA9IGN1c3RvbUxhbmcsCgkJfQoJCUxhc3REYXRhW3RleHRPYmplY3RdID0gZGF0YQoJZWxzZWlmIGZvcmNlVXBkYXRlIH49IHRydWUgYW5kIGRhdGEuVGV4dCA9PSBzcmMgdGhlbgoJCXJldHVybgoJZW5kCgoJbG9jYWwgbGluZUxhYmVscyA9IGRhdGEuTGFiZWxzCglsb2NhbCBwcmV2aW91c0xpbmVzID0gZGF0YS5MaW5lcwoKCWxvY2FsIGxpbmVzID0gc3RyaW5nLnNwbGl0KHNyYywgIlxuIikKCglkYXRhLkxpbmVzID0gbGluZXMKCWRhdGEuVGV4dCA9IHNyYwoJZGF0YS5MZXhlciA9IGxleGVyCglkYXRhLkN1c3RvbUxhbmcgPSBjdXN0b21MYW5nCgoJLS0gRW5zdXJlIHZhbGlkIG9iamVjdCBwcm9wZXJ0aWVzCgl0ZXh0T2JqZWN0LlJpY2hUZXh0ID0gZmFsc2UKCXRleHRPYmplY3QuVGV4dCA9IHNyYwoJdGV4dE9iamVjdC5UZXh0WEFsaWdubWVudCA9IEVudW0uVGV4dFhBbGlnbm1lbnQuTGVmdAoJdGV4dE9iamVjdC5UZXh0WUFsaWdubWVudCA9IEVudW0uVGV4dFlBbGlnbm1lbnQuVG9wCgl0ZXh0T2JqZWN0LkJhY2tncm91bmRDb2xvcjMgPSBUb2tlbkNvbG9ycy5iYWNrZ3JvdW5kCgl0ZXh0T2JqZWN0LlRleHRDb2xvcjMgPSBUb2tlbkNvbG9ycy5pZGVuCgl0ZXh0T2JqZWN0LlRleHRUcmFuc3BhcmVuY3kgPSAwLjUKCgktLSBCdWlsZCB0aGUgaGlnaGxpZ2h0IGxhYmVscwoJbG9jYWwgbGluZUZvbGRlciA9IHRleHRPYmplY3Q6RmluZEZpcnN0Q2hpbGQoIlN5bnRheEhpZ2hsaWdodHMiKQoJaWYgbGluZUZvbGRlciA9PSBuaWwgdGhlbgoJCWxvY2FsIG5ld0xpbmVGb2xkZXIgPSBJbnN0YW5jZS5uZXcoIkZvbGRlciIpCgkJbmV3TGluZUZvbGRlci5OYW1lID0gIlN5bnRheEhpZ2hsaWdodHMiCgkJbmV3TGluZUZvbGRlci5QYXJlbnQgPSB0ZXh0T2JqZWN0CgoJCWxpbmVGb2xkZXIgPSBuZXdMaW5lRm9sZGVyCgllbmQKCgktLSBBZGQgYSBjbGVhbnVwIGhhbmRsZXIgZm9yIHRoaXMgdGV4dE9iamVjdAoJbG9jYWwgY2xlYW51cCA9IENsZWFudXBzW3RleHRPYmplY3RdCglpZiBub3QgY2xlYW51cCB0aGVuCgkJbG9jYWwgY29ubmVjdGlvbnM6IHsgUkJYU2NyaXB0Q29ubmVjdGlvbiB9ID0ge30KCQlsb2NhbCBmdW5jdGlvbiBuZXdDbGVhbnVwKCkKCQkJZm9yIF8sIGxhYmVsIGluIGlwYWlycyhsaW5lTGFiZWxzKSBkbwoJCQkJbGFiZWw6RGVzdHJveSgpCgkJCWVuZAoJCQl0YWJsZS5jbGVhcihsaW5lTGFiZWxzKQoJCQlsaW5lTGFiZWxzID0gbmlsCgoJCQlMYXN0RGF0YVt0ZXh0T2JqZWN0XSA9IG5pbAoJCQlDbGVhbnVwc1t0ZXh0T2JqZWN0XSA9IG5pbAoKCQkJZm9yIF8sIGNvbm5lY3Rpb24gaW4gY29ubmVjdGlvbnMgZG8KCQkJCWNvbm5lY3Rpb246RGlzY29ubmVjdCgpCgkJCWVuZAoJCQl0YWJsZS5jbGVhcihjb25uZWN0aW9ucykKCQkJY29ubmVjdGlvbnMgPSBuaWwKCQllbmQKCQlDbGVhbnVwc1t0ZXh0T2JqZWN0XSA9IG5ld0NsZWFudXAKCQljbGVhbnVwID0gbmV3Q2xlYW51cAoKCQl0YWJsZS5pbnNlcnQoCgkJCWNvbm5lY3Rpb25zLAoJCQl0ZXh0T2JqZWN0LkFuY2VzdHJ5Q2hhbmdlZDpDb25uZWN0KGZ1bmN0aW9uKCkKCQkJCWlmIHRleHRPYmplY3QuUGFyZW50IHRoZW4KCQkJCQlyZXR1cm4KCQkJCWVuZAoKCQkJCWNsZWFudXAoKQoJCQllbmQpCgkJKQoJCXRhYmxlLmluc2VydCgKCQkJY29ubmVjdGlvbnMsCgkJCXRleHRPYmplY3Q6R2V0UHJvcGVydHlDaGFuZ2VkU2lnbmFsKCJUZXh0Qm91bmRzIik6Q29ubmVjdChmdW5jdGlvbigpCgkJCQlIaWdobGlnaHRlci5oaWdobGlnaHQoewoJCQkJCXRleHRPYmplY3QgPSB0ZXh0T2JqZWN0LAoJCQkJCWZvcmNlVXBkYXRlID0gdHJ1ZSwKCQkJCQlsZXhlciA9IGxleGVyLAoJCQkJCWN1c3RvbUxhbmcgPSBjdXN0b21MYW5nLAoJCQkJfSkKCQkJZW5kKQoJCSkKCQl0YWJsZS5pbnNlcnQoCgkJCWNvbm5lY3Rpb25zLAoJCQl0ZXh0T2JqZWN0OkdldFByb3BlcnR5Q2hhbmdlZFNpZ25hbCgiVGV4dCIpOkNvbm5lY3QoZnVuY3Rpb24oKQoJCQkJSGlnaGxpZ2h0ZXIuaGlnaGxpZ2h0KHsKCQkJCQl0ZXh0T2JqZWN0ID0gdGV4dE9iamVjdCwKCQkJCQlsZXhlciA9IGxleGVyLAoJCQkJCWN1c3RvbUxhbmcgPSBjdXN0b21MYW5nLAoJCQkJfSkKCQkJZW5kKQoJCSkKCQl0YWJsZS5pbnNlcnQoCgkJCWNvbm5lY3Rpb25zLAoJCQl0ZXh0T2JqZWN0OkdldFByb3BlcnR5Q2hhbmdlZFNpZ25hbCgiQWJzb2x1dGVTaXplIik6Q29ubmVjdChmdW5jdGlvbigpCgkJCQlIaWdobGlnaHRlci5oaWdobGlnaHQoewoJCQkJCXRleHRPYmplY3QgPSB0ZXh0T2JqZWN0LAoJCQkJCWZvcmNlVXBkYXRlID0gdHJ1ZSwKCQkJCQlsZXhlciA9IGxleGVyLAoJCQkJCWN1c3RvbUxhbmcgPSBjdXN0b21MYW5nLAoJCQkJfSkKCQkJZW5kKQoJCSkKCWVuZAoKCS0tIFNob3J0Y3V0IGVtcHR5IGxhYmVscwoJaWYgc3JjID09ICIiIHRoZW4KCQlmb3IgbD0xLCAjbGluZUxhYmVscyBkbwoJCQlpZiBsaW5lTGFiZWxzW2xdLlRleHQgPT0gIiIgdGhlbiBjb250aW51ZSBlbmQKCQkJbGluZUxhYmVsc1tsXS5UZXh0ID0gIiIKCQllbmQKCQlyZXR1cm4gY2xlYW51cAoJZW5kCgoJLS0gV2FpdCBmb3IgVGV4dEJvdW5kcyB0byBiZSBub24tTmFOIGFuZCBub24temVybyBiZWNhdXNlIFJvYmxveAoJbG9jYWwgdGV4dEJvdW5kcyA9IHRleHRPYmplY3QuVGV4dEJvdW5kcwoJd2hpbGUgKHRleHRCb3VuZHMuWSB+PSB0ZXh0Qm91bmRzLlkpIG9yICh0ZXh0Qm91bmRzLlkgPCAxKSBkbwoJCXRhc2sud2FpdCgpCgkJdGV4dEJvdW5kcyA9IHRleHRPYmplY3QuVGV4dEJvdW5kcwoJZW5kCgoJaWYgTGFzdERhdGFbdGV4dE9iamVjdF0gPT0gbmlsIHRoZW4KCQktLSBHb3QgY2xlYW5lZCB1cCB3aGlsZSB3ZSB3ZXJlIHdhaXRpbmcKCQlyZXR1cm4gY2xlYW51cAoJZW5kCgoJbG9jYWwgbnVtTGluZXMgPSAjbGluZXMKCWxvY2FsIHRleHRIZWlnaHQgPSB0ZXh0Qm91bmRzLlkgLyBudW1MaW5lcyAqIHRleHRPYmplY3QuTGluZUhlaWdodAoKCWxvY2FsIHJpY2hUZXh0LCBpbmRleCwgbGluZU51bWJlciA9IHRhYmxlLmNyZWF0ZSg1KSwgMCwgMQoJZm9yIHRva2VuOiBzdHJpbmcsIGNvbnRlbnQ6IHN0cmluZyBpbiBsZXhlci5zY2FuKHNyYykgZG8KCQlsb2NhbCBDb2xvciA9CgkJCWlmIGN1c3RvbUxhbmcgYW5kIGN1c3RvbUxhbmdbY29udGVudF0gdGhlbgoJCQkJVG9rZW5Db2xvcnNbImN1c3RvbSJdCgkJCWVsc2UKCQkJCVRva2VuQ29sb3JzW3Rva2VuXSBvciBUb2tlbkNvbG9yc1siaWRlbiJdCgoJCWxvY2FsIHRva2VuTGluZXMgPSBzdHJpbmcuc3BsaXQoU2FuaXRpemVSaWNoVGV4dChjb250ZW50KSwgIlxuIikKCgkJZm9yIGwsIGxpbmUgaW4gaXBhaXJzKHRva2VuTGluZXMpIGRvCgkJCS0tIEZpbmQgbGluZSBsYWJlbAoJCQlsb2NhbCBsaW5lTGFiZWwgPSBsaW5lTGFiZWxzW2xpbmVOdW1iZXJdCgkJCWlmIG5vdCBsaW5lTGFiZWwgdGhlbgoJCQkJbG9jYWwgbmV3TGFiZWwgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIpCgkJCQluZXdMYWJlbC5OYW1lID0gIkxpbmVfIiAuLiBsaW5lTnVtYmVyCgkJCQluZXdMYWJlbC5SaWNoVGV4dCA9IHRydWUKCQkJCW5ld0xhYmVsLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCgkJCQluZXdMYWJlbC5UZXh0ID0gIiIKCQkJCW5ld0xhYmVsLlRleHRYQWxpZ25tZW50ID0gRW51bS5UZXh0WEFsaWdubWVudC5MZWZ0CgkJCQluZXdMYWJlbC5UZXh0WUFsaWdubWVudCA9IEVudW0uVGV4dFlBbGlnbm1lbnQuVG9wCgkJCQluZXdMYWJlbC5QYXJlbnQgPSBsaW5lRm9sZGVyCgkJCQluZXdMYWJlbC5UZXh0V3JhcHBlZD10cnVlCgkJCQlsaW5lTGFiZWxzW2xpbmVOdW1iZXJdID0gbmV3TGFiZWwKCQkJCWxpbmVMYWJlbCA9IG5ld0xhYmVsCgkJCWVuZAoKCQkJLS0gQWxpZ24gbGluZSBsYWJlbAoJCQlsaW5lTGFiZWwuVGV4dENvbG9yMyA9IFRva2VuQ29sb3JzWyJpZGVuIl0KCQkJbGluZUxhYmVsLkZvbnQgPSB0ZXh0T2JqZWN0LkZvbnQKCQkJbGluZUxhYmVsLlRleHRTaXplID0gdGV4dE9iamVjdC5UZXh0U2l6ZQoJCQlsaW5lTGFiZWwuU2l6ZSA9IFVEaW0yLm5ldygxLCAwLCAwLCBtYXRoLmNlaWwodGV4dEhlaWdodCkpCgkJCWxpbmVMYWJlbC5Qb3NpdGlvbiA9IFVEaW0yLmZyb21TY2FsZSgwLCB0ZXh0SGVpZ2h0ICogKGxpbmVOdW1iZXIgLSAxKSAvIHRleHRPYmplY3QuQWJzb2x1dGVTaXplLlkpCgoJCQktLSBJZiBtdWx0aWxpbmUgdG9rZW4sIHRoZW4gc2V0IGxpbmUgJiBtb3ZlIHRvIG5leHQKCQkJaWYgbCA+IDEgdGhlbgoJCQkJaWYgZm9yY2VVcGRhdGUgb3IgbGluZXNbbGluZU51bWJlcl0gfj0gcHJldmlvdXNMaW5lc1tsaW5lTnVtYmVyXSB0aGVuCgkJCQkJLS0gU2V0IGxpbmUKCQkJCQlsaW5lTGFiZWxzW2xpbmVOdW1iZXJdLlRleHQgPSB0YWJsZS5jb25jYXQocmljaFRleHQpCgkJCQllbmQKCQkJCS0tIE1vdmUgdG8gbmV4dCBsaW5lCgkJCQlsaW5lTnVtYmVyICs9IDEKCQkJCWluZGV4ID0gMAoJCQkJdGFibGUuY2xlYXIocmljaFRleHQpCgkJCWVuZAoKCQkJLS0gSWYgY2hhbmdlZCwgYWRkIHRva2VuIHRvIGxpbmUKCQkJaWYgZm9yY2VVcGRhdGUgb3IgbGluZXNbbGluZU51bWJlcl0gfj0gcHJldmlvdXNMaW5lc1tsaW5lTnVtYmVyXSB0aGVuCgkJCQlpbmRleCArPSAxCgkJCQktLSBPbmx5IGFkZCBSaWNoVGV4dCB0YWdzIHdoZW4gdGhlIGNvbG9yIGlzIG5vbi1kZWZhdWx0IGFuZCB0aGUgY2hhcmFjdGVycyBhcmUgbm9uLXdoaXRlc3BhY2UKCQkJCWlmIENvbG9yIH49IFRva2VuQ29sb3JzWyJpZGVuIl0gYW5kIHN0cmluZy5maW5kKGxpbmUsICJbJVMlQ10iKSB0aGVuCgkJCQkJcmljaFRleHRbaW5kZXhdID0gc3RyaW5nLmZvcm1hdChDb2xvckZvcm1hdHRlcltDb2xvcl0sIGxpbmUpCgkJCQllbHNlCgkJCQkJcmljaFRleHRbaW5kZXhdID0gbGluZQoJCQkJZW5kCgkJCWVuZAoJCWVuZAoJZW5kCgoJLS0gU2V0IGZpbmFsIGxpbmUKCWlmIHJpY2hUZXh0WzFdIGFuZCBsaW5lTGFiZWxzW2xpbmVOdW1iZXJdIHRoZW4KCQlsaW5lTGFiZWxzW2xpbmVOdW1iZXJdLlRleHQgPSB0YWJsZS5jb25jYXQocmljaFRleHQpCgllbmQKCgktLSBDbGVhciB1bnVzZWQgbGluZSBsYWJlbHMKCWZvciBsPWxpbmVOdW1iZXIrMSwgI2xpbmVMYWJlbHMgZG8KCQlpZiBsaW5lTGFiZWxzW2xdLlRleHQgPT0gIiIgdGhlbiBjb250aW51ZSBlbmQKCQlsaW5lTGFiZWxzW2xdLlRleHQgPSAiIgoJZW5kCgoJcmV0dXJuIGNsZWFudXAKZW5kCgpmdW5jdGlvbiBIaWdobGlnaHRlci5yZWZyZXNoKCk6ICgpCgktLSBSZWhpZ2hsaWdodCBleGlzdGluZyBsYWJlbHMgdXNpbmcgbGF0ZXN0IGNvbG9ycwoJZm9yIHRleHRPYmplY3QsIGRhdGEgaW4gcGFpcnMoTGFzdERhdGEpIGRvCgkJZm9yIF8sIGxpbmVMYWJlbCBpbiBpcGFpcnMoZGF0YS5MYWJlbHMpIGRvCgkJCWxpbmVMYWJlbC5UZXh0Q29sb3IzID0gVG9rZW5Db2xvcnNbImlkZW4iXQoJCWVuZAoKCQlIaWdobGlnaHRlci5oaWdobGlnaHQoewoJCQl0ZXh0T2JqZWN0ID0gdGV4dE9iamVjdCwKCQkJZm9yY2VVcGRhdGUgPSB0cnVlLAoJCQlzcmMgPSBkYXRhLlRleHQsCgkJCWxleGVyID0gZGF0YS5MZXhlciwKCQkJY3VzdG9tTGFuZyA9IGRhdGEuQ3VzdG9tTGFuZywKCQl9KQoJZW5kCmVuZAoKZnVuY3Rpb24gSGlnaGxpZ2h0ZXIuc2V0VG9rZW5Db2xvcnMoY29sb3JzOiBIaWdobGlnaHRlckNvbG9ycykKCWZvciB0b2tlbiwgY29sb3IgaW4gY29sb3JzIGRvCgkJVG9rZW5Db2xvcnNbdG9rZW5dID0gY29sb3IKCQlDb2xvckZvcm1hdHRlcltjb2xvcl0gPSBzdHJpbmcuZm9ybWF0KAoJCQknPGZvbnQgY29sb3I9IiMlLjJ4JS4yeCUuMngiPicsCgkJCWNvbG9yLlIgKiAyNTUsCgkJCWNvbG9yLkcgKiAyNTUsCgkJCWNvbG9yLkIgKiAyNTUKCQkpIC4uICIlczwvZm9udD4iCgllbmQKCglIaWdobGlnaHRlci5yZWZyZXNoKCkKZW5kCkhpZ2hsaWdodGVyLnNldFRva2VuQ29sb3JzKFRva2VuQ29sb3JzKQoKcmV0dXJuIEhpZ2hsaWdodGVyIDo6IEhpZ2hsaWdodGVyCgplbmQ7Cn07CkcyTF9NT0RVTEVTW0cyTFsiMTQiXV0gPSB7CkNsb3N1cmUgPSBmdW5jdGlvbigpCiAgICBsb2NhbCBzY3JpcHQgPSBHMkxbIjE0Il07Ci0tWz1bCglMZXhpY2FsIHNjYW5uZXIgZm9yIGNyZWF0aW5nIGEgc2VxdWVuY2Ugb2YgdG9rZW5zIGZyb20gTHVhIHNvdXJjZSBjb2RlLgoJVGhpcyBpcyBhIGhlYXZpbHkgbW9kaWZpZWQgYW5kIFJvYmxveC1vcHRpbWl6ZWQgdmVyc2lvbiBvZgoJdGhlIG9yaWdpbmFsIFBlbmxpZ2h0IExleGVyIG1vZHVsZToKCQlodHRwczovL2dpdGh1Yi5jb20vc3RldmVkb25vdmFuL1BlbmxpZ2h0CglBdXRob3JzOgoJCXN0ZXZlZG9ub3ZhbiA8aHR0cHM6Ly9naXRodWIuY29tL3N0ZXZlZG9ub3Zhbj4gLS0tLS0tLS0tLS0gT3JpZ2luYWwgUGVubGlnaHQgbGV4ZXIgYXV0aG9yCgkJcnlhbmptdWxkZXIgPGh0dHBzOi8vZ2l0aHViLmNvbS9yeWFuam11bGRlcj4gLS0tLS0tLS0tLS0tLSBQZW5saWdodCBsZXhlciBjb250cmlidXRlcgoJCW1wZXRlcnYgPGh0dHBzOi8vZ2l0aHViLmNvbS9tcGV0ZXJ2PiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0gUGVubGlnaHQgbGV4ZXIgY29udHJpYnV0ZXIKCQlUaWVza2UgPGh0dHBzOi8vZ2l0aHViLmNvbS9UaWVza2U+IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFBlbmxpZ2h0IGxleGVyIGNvbnRyaWJ1dGVyCgkJYm9hdGJvbWJlciA8aHR0cHM6Ly9naXRodWIuY29tL2JvYXRib21iZXI+IC0tLS0tLS0tLS0tLS0tLSBSb2Jsb3ggcG9ydCwgYWRkZWQgYnVpbHRpbiB0b2tlbiwKCQkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZGVkIHBhdHRlcm5zIGZvciBpbmNvbXBsZXRlIHN5bnRheCwgYnVnIGZpeGVzLAoJCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmVoYXZpb3IgY2hhbmdlcywgdG9rZW4gb3B0aW1pemF0aW9uLCB0aHJlYWQgb3B0aW1pemF0aW9uCgkJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBZGRlZCBsZXhlci5uYXZpZ2F0b3IoKSBmb3Igbm9uLXNlcXVlbnRpYWwgcmVhZHMKCQlTbGVpdG5pY2sgPGh0dHBzOi8vZ2l0aHViLmNvbS9TbGVpdG5pY2s+IC0tLS0tLS0tLS0tLS0tLS0tIFJvYmxveCBvcHRpbWl6YXRpb25zCgkJaG93bWFueXNtYWxsIDxodHRwczovL2dpdGh1Yi5jb20vaG93bWFueXNtYWxsPiAtLS0tLS0tLS0tLSBMdWEgKyBSb2Jsb3ggb3B0aW1pemF0aW9ucwoKCUxpc3Qgb2YgcG9zc2libGUgdG9rZW5zOgoJCS0gaWRlbgoJCS0ga2V5d29yZAoJCS0gYnVpbHRpbgoJCS0gc3RyaW5nCgkJLSBudW1iZXIKCQktIGNvbW1lbnQKCQktIG9wZXJhdG9yCi0tXT1dCgpsb2NhbCBsZXhlciA9IHt9Cgpsb2NhbCBQcmVmaXgsIFN1ZmZpeCwgQ2xlYW5lciA9ICJeWyVjJXNdKiIsICJbJWMlc10qIiwgIlslYyVzXSsiCmxvY2FsIFVOSUNPREUgPSAiWyV6XHgwMS1ceDdGXHhDMi1ceEY0XVtceDgwLVx4QkZdKyIKbG9jYWwgTlVNQkVSX0EgPSAiMFt4WF1bJWRhLWZBLUZfXSsiCmxvY2FsIE5VTUJFUl9CID0gIjBbYkJdWzAxX10rIgpsb2NhbCBOVU1CRVJfQyA9ICIlZCslLj8lZCpbZUVdWyUrJS1dPyVkKyIKbG9jYWwgTlVNQkVSX0QgPSAiJWQrWyUuX10/WyVkX2VFXSoiCmxvY2FsIE9QRVJBVE9SUyA9ICJbOjs8Pi9+JSolKCUpJS09e30sJS4jJV4lKyUlXSsiCmxvY2FsIEJSQUNLRVRTID0gIlslWyVdXSsiIC0tIG5lZWRzIHRvIGJlIHNlcGFyYXRlIHBhdHRlcm4gZnJvbSBvdGhlciBvcGVyYXRvcnMgb3IgaXQnbGwgbWVzcyB1cCBtdWx0aWxpbmUgc3RyaW5ncwpsb2NhbCBJREVOID0gIlslYV9dWyV3X10qIgpsb2NhbCBTVFJJTkdfRU1QVFkgPSAiKFsnXCJdKSUxIiAtLUVtcHR5IFN0cmluZwpsb2NhbCBTVFJJTkdfUExBSU4gPSAiKFsnXCJdKVteXG5dLShbXlxcXSUxKSIgLS1UT0RPOiBIYW5kbGUgZXNjYXBpbmcgZXNjYXBlcwpsb2NhbCBTVFJJTkdfSU5URVIgPSAiYFteXG5dLWAiCmxvY2FsIFNUUklOR19JTkNPTVBfQSA9ICIoWydcIl0pLi1cbiIgLS1JbmNvbXBsZXRlZCBTdHJpbmcgd2l0aCBuZXh0IGxpbmUKbG9jYWwgU1RSSU5HX0lOQ09NUF9CID0gIihbJ1wiXSlbXlxuXSoiIC0tSW5jb21wbGV0ZWQgU3RyaW5nIHdpdGhvdXQgbmV4dCBsaW5lCmxvY2FsIFNUUklOR19NVUxUSSA9ICIlWyg9KiklWy4tJV0lMSVdIiAtLU11bHRpbGluZS1TdHJpbmcKbG9jYWwgU1RSSU5HX01VTFRJX0lOQ09NUCA9ICIlWz0qJVsuLS4qIiAtLUluY29tcGxldGVkIE11bHRpbGluZS1TdHJpbmcKbG9jYWwgQ09NTUVOVF9NVUxUSSA9ICIlLSUtJVsoPSopJVsuLSVdJTElXSIgLS1Db21wbGV0ZWQgTXVsdGlsaW5lLUNvbW1lbnQKbG9jYWwgQ09NTUVOVF9NVUxUSV9JTkNPTVAgPSAiJS0lLSVbPSolWy4tLioiIC0tSW5jb21wbGV0ZWQgTXVsdGlsaW5lLUNvbW1lbnQKbG9jYWwgQ09NTUVOVF9QTEFJTiA9ICIlLSUtLi1cbiIgLS1Db21wbGV0ZWQgU2luZ2xlbGluZS1Db21tZW50CmxvY2FsIENPTU1FTlRfSU5DT01QID0gIiUtJS0uKiIgLS1JbmNvbXBsZXRlZCBTaW5nbGVsaW5lLUNvbW1lbnQKLS0gbG9jYWwgVFlQRURfVkFSID0gIjolcyooWyV3JT8lfCBcdF0rJXMqKSIgLS1UeXBlZCB2YXJpYWJsZSwgcGFyYW1ldGVyLCBmdW5jdGlvbgoKbG9jYWwgbGFuZyA9IHJlcXVpcmUoc2NyaXB0Lmxhbmd1YWdlKQpsb2NhbCBsdWFfa2V5d29yZCA9IGxhbmcua2V5d29yZApsb2NhbCBsdWFfYnVpbHRpbiA9IGxhbmcuYnVpbHRpbgpsb2NhbCBsdWFfbGlicmFyaWVzID0gbGFuZy5saWJyYXJpZXMKCmxleGVyLmxhbmd1YWdlID0gbGFuZwoKbG9jYWwgbHVhX21hdGNoZXMgPSB7CgktLSBJbmRlbnRpZmllcnMKCXsgUHJlZml4IC4uIElERU4gLi4gU3VmZml4LCAidmFyIiB9LAoKCS0tIE51bWJlcnMKCXsgUHJlZml4IC4uIE5VTUJFUl9BIC4uIFN1ZmZpeCwgIm51bWJlciIgfSwKCXsgUHJlZml4IC4uIE5VTUJFUl9CIC4uIFN1ZmZpeCwgIm51bWJlciIgfSwKCXsgUHJlZml4IC4uIE5VTUJFUl9DIC4uIFN1ZmZpeCwgIm51bWJlciIgfSwKCXsgUHJlZml4IC4uIE5VTUJFUl9EIC4uIFN1ZmZpeCwgIm51bWJlciIgfSwKCgktLSBTdHJpbmdzCgl7IFByZWZpeCAuLiBTVFJJTkdfRU1QVFkgLi4gU3VmZml4LCAic3RyaW5nIiB9LAoJeyBQcmVmaXggLi4gU1RSSU5HX1BMQUlOIC4uIFN1ZmZpeCwgInN0cmluZyIgfSwKCXsgUHJlZml4IC4uIFNUUklOR19JTkNPTVBfQSAuLiBTdWZmaXgsICJzdHJpbmciIH0sCgl7IFByZWZpeCAuLiBTVFJJTkdfSU5DT01QX0IgLi4gU3VmZml4LCAic3RyaW5nIiB9LAoJeyBQcmVmaXggLi4gU1RSSU5HX01VTFRJIC4uIFN1ZmZpeCwgInN0cmluZyIgfSwKCXsgUHJlZml4IC4uIFNUUklOR19NVUxUSV9JTkNPTVAgLi4gU3VmZml4LCAic3RyaW5nIiB9LAoJeyBQcmVmaXggLi4gU1RSSU5HX0lOVEVSIC4uIFN1ZmZpeCwgInN0cmluZ19pbnRlciIgfSwKCgktLSBDb21tZW50cwoJeyBQcmVmaXggLi4gQ09NTUVOVF9NVUxUSSAuLiBTdWZmaXgsICJjb21tZW50IiB9LAoJeyBQcmVmaXggLi4gQ09NTUVOVF9NVUxUSV9JTkNPTVAgLi4gU3VmZml4LCAiY29tbWVudCIgfSwKCXsgUHJlZml4IC4uIENPTU1FTlRfUExBSU4gLi4gU3VmZml4LCAiY29tbWVudCIgfSwKCXsgUHJlZml4IC4uIENPTU1FTlRfSU5DT01QIC4uIFN1ZmZpeCwgImNvbW1lbnQiIH0sCgoJLS0gT3BlcmF0b3JzCgl7IFByZWZpeCAuLiBPUEVSQVRPUlMgLi4gU3VmZml4LCAib3BlcmF0b3IiIH0sCgl7IFByZWZpeCAuLiBCUkFDS0VUUyAuLiBTdWZmaXgsICJvcGVyYXRvciIgfSwKCgktLSBVbmljb2RlCgl7IFByZWZpeCAuLiBVTklDT0RFIC4uIFN1ZmZpeCwgImlkZW4iIH0sCgoJLS0gVW5rbm93bgoJeyAiXi4iLCAiaWRlbiIgfSwKfQoKLS0gVG8gcmVkdWNlIHRoZSBhbW91bnQgb2YgdGFibGUgaW5kZXhpbmcgZHVyaW5nIGxleGluZywgd2Ugc2VwYXJhdGUgdGhlIG1hdGNoZXMgbm93CmxvY2FsIFBBVFRFUk5TLCBUT0tFTlMgPSB7fSwge30KZm9yIGksIG0gaW4gbHVhX21hdGNoZXMgZG8KCVBBVFRFUk5TW2ldID0gbVsxXQoJVE9LRU5TW2ldID0gbVsyXQplbmQKCi0tLSBDcmVhdGUgYSBwbGFpbiB0b2tlbiBpdGVyYXRvciBmcm9tIGEgc3RyaW5nLgotLSBAdHBhcmFtIHN0cmluZyBzIGEgc3RyaW5nLgoKZnVuY3Rpb24gbGV4ZXIuc2NhbihzOiBzdHJpbmcpCglsb2NhbCBpbmRleCA9IDEKCWxvY2FsIHNpemUgPSAjcwoJbG9jYWwgcHJldmlvdXNDb250ZW50MSwgcHJldmlvdXNDb250ZW50MiwgcHJldmlvdXNDb250ZW50MywgcHJldmlvdXNUb2tlbiA9ICIiLCAiIiwgIiIsICIiCgoJbG9jYWwgdGhyZWFkID0gY29yb3V0aW5lLmNyZWF0ZShmdW5jdGlvbigpCgkJd2hpbGUgaW5kZXggPD0gc2l6ZSBkbwoJCQlsb2NhbCBtYXRjaGVkID0gZmFsc2UKCQkJZm9yIHRva2VuVHlwZSwgcGF0dGVybiBpbiBpcGFpcnMoUEFUVEVSTlMpIGRvCgkJCQktLSBGaW5kIG1hdGNoCgkJCQlsb2NhbCBzdGFydCwgZmluaXNoID0gc3RyaW5nLmZpbmQocywgcGF0dGVybiwgaW5kZXgpCgkJCQlpZiBzdGFydCA9PSBuaWwgdGhlbiBjb250aW51ZSBlbmQKCgkJCQktLSBNb3ZlIGhlYWQKCQkJCWluZGV4ID0gZmluaXNoICsgMQoJCQkJbWF0Y2hlZCA9IHRydWUKCgkJCQktLSBHYXRoZXIgcmVzdWx0cwoJCQkJbG9jYWwgY29udGVudCA9IHN0cmluZy5zdWIocywgc3RhcnQsIGZpbmlzaCkKCQkJCWxvY2FsIHJhd1Rva2VuID0gVE9LRU5TW3Rva2VuVHlwZV0KCQkJCWxvY2FsIHByb2Nlc3NlZFRva2VuID0gcmF3VG9rZW4KCgkJCQktLSBQcm9jZXNzIHRva2VuCgkJCQlpZiByYXdUb2tlbiA9PSAidmFyIiB0aGVuCgkJCQkJLS0gU2luY2Ugd2UgbWVyZ2Ugc3BhY2VzIGludG8gdGhlIHRvaywgd2UgbmVlZCB0byByZW1vdmUgdGhlbQoJCQkJCS0tIGluIG9yZGVyIHRvIGNoZWNrIHRoZSBhY3R1YWwgd29yZCBpdCBjb250YWlucwoJCQkJCWxvY2FsIGNsZWFuQ29udGVudCA9IHN0cmluZy5nc3ViKGNvbnRlbnQsIENsZWFuZXIsICIiKQoKCQkJCQlpZiBsdWFfa2V5d29yZFtjbGVhbkNvbnRlbnRdIHRoZW4KCQkJCQkJcHJvY2Vzc2VkVG9rZW4gPSAia2V5d29yZCIKCQkJCQllbHNlaWYgbHVhX2J1aWx0aW5bY2xlYW5Db250ZW50XSB0aGVuCgkJCQkJCXByb2Nlc3NlZFRva2VuID0gImJ1aWx0aW4iCgkJCQkJZWxzZWlmIHN0cmluZy5maW5kKHByZXZpb3VzQ29udGVudDEsICIlLlslcyVjXSokIikgYW5kIHByZXZpb3VzVG9rZW4gfj0gImNvbW1lbnQiIHRoZW4KCQkJCQkJLS0gVGhlIHByZXZpb3VzIHdhcyBhIC4gc28gd2UgbmVlZCB0byBzcGVjaWFsIGNhc2UgaW5kZXhpbmcgdGhpbmdzCgkJCQkJCWxvY2FsIHBhcmVudCA9IHN0cmluZy5nc3ViKHByZXZpb3VzQ29udGVudDIsIENsZWFuZXIsICIiKQoJCQkJCQlsb2NhbCBsaWIgPSBsdWFfbGlicmFyaWVzW3BhcmVudF0KCQkJCQkJaWYgbGliIGFuZCBsaWJbY2xlYW5Db250ZW50XSBhbmQgbm90IHN0cmluZy5maW5kKHByZXZpb3VzQ29udGVudDMsICIlLlslcyVjXSokIikgdGhlbgoJCQkJCQkJLS0gSW5kZXhpbmcgYSBidWlsdGluIGxpYiB3aXRoIGV4aXN0aW5nIGl0ZW0sIHRyZWF0IGFzIGEgYnVpbHRpbgoJCQkJCQkJcHJvY2Vzc2VkVG9rZW4gPSAiYnVpbHRpbiIKCQkJCQkJZWxzZQoJCQkJCQkJLS0gSW5kZXhpbmcgYSBub24gYnVpbHRpbiwgY2FuJ3QgYmUgdHJlYXRlZCBhcyBhIGtleXdvcmQvYnVpbHRpbgoJCQkJCQkJcHJvY2Vzc2VkVG9rZW4gPSAiaWRlbiIKCQkJCQkJZW5kCgkJCQkJCS0tIHByaW50KCJpbmRleGluZyIscGFyZW50LCJ3aXRoIixjbGVhblRvaywiYXMiLHQyKQoJCQkJCWVsc2UKCQkJCQkJcHJvY2Vzc2VkVG9rZW4gPSAiaWRlbiIKCQkJCQllbmQKCQkJCWVsc2VpZiByYXdUb2tlbiA9PSAic3RyaW5nX2ludGVyIiB0aGVuCgkJCQkJaWYgbm90IHN0cmluZy5maW5kKGNvbnRlbnQsICJbXlxcXXsiKSB0aGVuCgkJCQkJCS0tIFRoaXMgaW50ZXIgc3RyaW5nIGRvZXNudCBhY3R1YWxseSBoYXZlIGFueSBpbnRlcnMKCQkJCQkJcHJvY2Vzc2VkVG9rZW4gPSAic3RyaW5nIgoJCQkJCWVsc2UKCQkJCQkJLS0gV2UncmUgZ29ubmEgZG8gb3VyIG93biB5aWVsZHMsIHNvIHRoZSBtYWluIGxvb3Agd29uJ3QgbmVlZCB0bwoJCQkJCQktLSBPdXIgeWllbGRzIHdpbGwgYmUgYSBtaXggb2Ygc3RyaW5nIGFuZCB3aGF0ZXZlciBpcyBpbnNpZGUgdGhlIGludGVycwoJCQkJCQlwcm9jZXNzZWRUb2tlbiA9IG5pbAoKCQkJCQkJbG9jYWwgaXNTdHJpbmcgPSB0cnVlCgkJCQkJCWxvY2FsIHN1YkluZGV4ID0gMQoJCQkJCQlsb2NhbCBzdWJTaXplID0gI2NvbnRlbnQKCQkJCQkJd2hpbGUgc3ViSW5kZXggPD0gc3ViU2l6ZSBkbwoJCQkJCQkJLS0gRmluZCBuZXh0IGJyYWNlCgkJCQkJCQlsb2NhbCBzdWJTdGFydCwgc3ViRmluaXNoID0gc3RyaW5nLmZpbmQoY29udGVudCwgIl4uLVteXFxdW3t9XSIsIHN1YkluZGV4KQoJCQkJCQkJaWYgc3ViU3RhcnQgPT0gbmlsIHRoZW4KCQkJCQkJCQktLSBObyBtb3JlIGJyYWNlcywgYWxsIHN0cmluZwoJCQkJCQkJCWNvcm91dGluZS55aWVsZCgic3RyaW5nIiwgc3RyaW5nLnN1Yihjb250ZW50LCBzdWJJbmRleCkpCgkJCQkJCQkJYnJlYWsKCQkJCQkJCWVuZAoKCQkJCQkJCWlmIGlzU3RyaW5nIHRoZW4KCQkJCQkJCQktLSBXZSBhcmUgY3VycmVudGx5IGEgc3RyaW5nCgkJCQkJCQkJc3ViSW5kZXggPSBzdWJGaW5pc2ggKyAxCgkJCQkJCQkJY29yb3V0aW5lLnlpZWxkKCJzdHJpbmciLCBzdHJpbmcuc3ViKGNvbnRlbnQsIHN1YlN0YXJ0LCBzdWJGaW5pc2gpKQoKCQkJCQkJCQktLSBUaGlzIGJyYWNlIG9wZW5zIGNvZGUKCQkJCQkJCQlpc1N0cmluZyA9IGZhbHNlCgkJCQkJCQllbHNlCgkJCQkJCQkJLS0gV2UgYXJlIGN1cnJlbnRseSBpbiBjb2RlCgkJCQkJCQkJc3ViSW5kZXggPSBzdWJGaW5pc2gKCQkJCQkJCQlsb2NhbCBzdWJDb250ZW50ID0gc3RyaW5nLnN1Yihjb250ZW50LCBzdWJTdGFydCwgc3ViRmluaXNoLTEpCgkJCQkJCQkJZm9yIGlubmVyVG9rZW4sIGlubmVyQ29udGVudCBpbiBsZXhlci5zY2FuKHN1YkNvbnRlbnQpIGRvCgkJCQkJCQkJCWNvcm91dGluZS55aWVsZChpbm5lclRva2VuLCBpbm5lckNvbnRlbnQpCgkJCQkJCQkJZW5kCgoJCQkJCQkJCS0tIFRoaXMgYnJhY2Ugb3BlbnMgc3RyaW5nL2Nsb3NlcyBjb2RlCgkJCQkJCQkJaXNTdHJpbmcgPSB0cnVlCgkJCQkJCQllbmQKCQkJCQkJZW5kCgkJCQkJZW5kCgkJCQllbmQKCgkJCQktLSBSZWNvcmQgbGFzdCAzIHRva2VucyBmb3IgdGhlIGluZGV4aW5nIGNvbnRleHQgY2hlY2sKCQkJCXByZXZpb3VzQ29udGVudDMgPSBwcmV2aW91c0NvbnRlbnQyCgkJCQlwcmV2aW91c0NvbnRlbnQyID0gcHJldmlvdXNDb250ZW50MQoJCQkJcHJldmlvdXNDb250ZW50MSA9IGNvbnRlbnQKCQkJCXByZXZpb3VzVG9rZW4gPSBwcm9jZXNzZWRUb2tlbiBvciByYXdUb2tlbgoJCQkJaWYgcHJvY2Vzc2VkVG9rZW4gdGhlbgoJCQkJCWNvcm91dGluZS55aWVsZChwcm9jZXNzZWRUb2tlbiwgY29udGVudCkKCQkJCWVuZAoJCQkJYnJlYWsKCQkJZW5kCgoJCQktLSBObyBtYXRjaGVzIGZvdW5kCgkJCWlmIG5vdCBtYXRjaGVkIHRoZW4KCQkJCXJldHVybgoJCQllbmQKCQllbmQKCgkJLS0gQ29tcGxldGVkIHRoZSBzY2FuCgkJcmV0dXJuCgllbmQpCgoJcmV0dXJuIGZ1bmN0aW9uKCkKCQlpZiBjb3JvdXRpbmUuc3RhdHVzKHRocmVhZCkgPT0gImRlYWQiIHRoZW4KCQkJcmV0dXJuCgkJZW5kCgoJCWxvY2FsIHN1Y2Nlc3MsIHRva2VuLCBjb250ZW50ID0gY29yb3V0aW5lLnJlc3VtZSh0aHJlYWQpCgkJaWYgc3VjY2VzcyBhbmQgdG9rZW4gdGhlbgoJCQlyZXR1cm4gdG9rZW4sIGNvbnRlbnQKCQllbmQKCgkJcmV0dXJuCgllbmQKZW5kCgpmdW5jdGlvbiBsZXhlci5uYXZpZ2F0b3IoKQoJbG9jYWwgbmF2ID0gewoJCVNvdXJjZSA9ICIiLAoJCVRva2VuQ2FjaGUgPSB0YWJsZS5jcmVhdGUoNTApLAoKCQlfUmVhbEluZGV4ID0gMCwKCQlfVXNlckluZGV4ID0gMCwKCQlfU2NhblRocmVhZCA9IG5pbCwKCX0KCglmdW5jdGlvbiBuYXY6RGVzdHJveSgpCgkJc2VsZi5Tb3VyY2UgPSBuaWwKCQlzZWxmLl9SZWFsSW5kZXggPSBuaWwKCQlzZWxmLl9Vc2VySW5kZXggPSBuaWwKCQlzZWxmLlRva2VuQ2FjaGUgPSBuaWwKCQlzZWxmLl9TY2FuVGhyZWFkID0gbmlsCgllbmQKCglmdW5jdGlvbiBuYXY6U2V0U291cmNlKFNvdXJjZVN0cmluZykKCQlzZWxmLlNvdXJjZSA9IFNvdXJjZVN0cmluZwoKCQlzZWxmLl9SZWFsSW5kZXggPSAwCgkJc2VsZi5fVXNlckluZGV4ID0gMAoJCXRhYmxlLmNsZWFyKHNlbGYuVG9rZW5DYWNoZSkKCgkJc2VsZi5fU2NhblRocmVhZCA9IGNvcm91dGluZS5jcmVhdGUoZnVuY3Rpb24oKQoJCQlmb3IgVG9rZW4sIFNyYyBpbiBsZXhlci5zY2FuKHNlbGYuU291cmNlKSBkbwoJCQkJc2VsZi5fUmVhbEluZGV4ICs9IDEKCQkJCXNlbGYuVG9rZW5DYWNoZVtzZWxmLl9SZWFsSW5kZXhdID0geyBUb2tlbiwgU3JjIH0KCQkJCWNvcm91dGluZS55aWVsZChUb2tlbiwgU3JjKQoJCQllbmQKCQllbmQpCgllbmQKCglmdW5jdGlvbiBuYXYuTmV4dCgpCgkJbmF2Ll9Vc2VySW5kZXggKz0gMQoKCQlpZiBuYXYuX1JlYWxJbmRleCA+PSBuYXYuX1VzZXJJbmRleCB0aGVuCgkJCS0tIEFscmVhZHkgc2Nhbm5lZCwgcmV0dXJuIGNhY2hlZAoJCQlyZXR1cm4gdGFibGUudW5wYWNrKG5hdi5Ub2tlbkNhY2hlW25hdi5fVXNlckluZGV4XSkKCQllbHNlCgkJCWlmIGNvcm91dGluZS5zdGF0dXMobmF2Ll9TY2FuVGhyZWFkKSA9PSAiZGVhZCIgdGhlbgoJCQkJLS0gU2NhbiB0aHJlYWQgZGVhZAoJCQkJcmV0dXJuCgkJCWVsc2UKCQkJCWxvY2FsIHN1Y2Nlc3MsIHRva2VuLCBzcmMgPSBjb3JvdXRpbmUucmVzdW1lKG5hdi5fU2NhblRocmVhZCkKCQkJCWlmIHN1Y2Nlc3MgYW5kIHRva2VuIHRoZW4KCQkJCQktLSBTY2FubmVkIG5ldyBkYXRhCgkJCQkJcmV0dXJuIHRva2VuLCBzcmMKCQkJCWVsc2UKCQkJCQktLSBMZXggY29tcGxldGVkCgkJCQkJcmV0dXJuCgkJCQllbmQKCQkJZW5kCgkJZW5kCgllbmQKCglmdW5jdGlvbiBuYXYuUGVlayhQZWVrQW1vdW50KQoJCWxvY2FsIEdvYWxJbmRleCA9IG5hdi5fVXNlckluZGV4ICsgUGVla0Ftb3VudAoKCQlpZiBuYXYuX1JlYWxJbmRleCA+PSBHb2FsSW5kZXggdGhlbgoJCQktLSBBbHJlYWR5IHNjYW5uZWQsIHJldHVybiBjYWNoZWQKCQkJaWYgR29hbEluZGV4ID4gMCB0aGVuCgkJCQlyZXR1cm4gdGFibGUudW5wYWNrKG5hdi5Ub2tlbkNhY2hlW0dvYWxJbmRleF0pCgkJCWVsc2UKCQkJCS0tIEludmFsaWQgcGVlawoJCQkJcmV0dXJuCgkJCWVuZAoJCWVsc2UKCQkJaWYgY29yb3V0aW5lLnN0YXR1cyhuYXYuX1NjYW5UaHJlYWQpID09ICJkZWFkIiB0aGVuCgkJCQktLSBTY2FuIHRocmVhZCBkZWFkCgkJCQlyZXR1cm4KCQkJZWxzZQoJCQkJbG9jYWwgSXRlcmF0aW9uc0F3YXkgPSBHb2FsSW5kZXggLSBuYXYuX1JlYWxJbmRleAoKCQkJCWxvY2FsIHN1Y2Nlc3MsIHRva2VuLCBzcmMgPSBuaWwsIG5pbCwgbmlsCgoJCQkJZm9yIF8gPSAxLCBJdGVyYXRpb25zQXdheSBkbwoJCQkJCXN1Y2Nlc3MsIHRva2VuLCBzcmMgPSBjb3JvdXRpbmUucmVzdW1lKG5hdi5fU2NhblRocmVhZCkKCQkJCQlpZiBub3QgKHN1Y2Nlc3Mgb3IgdG9rZW4pIHRoZW4KCQkJCQkJLS0gTGV4IGNvbXBsZXRlZAoJCQkJCQlicmVhawoJCQkJCWVuZAoJCQkJZW5kCgoJCQkJcmV0dXJuIHRva2VuLCBzcmMKCQkJZW5kCgkJZW5kCgllbmQKCglyZXR1cm4gbmF2CmVuZAoKcmV0dXJuIGxleGVyCgplbmQ7Cn07CkcyTF9NT0RVTEVTW0cyTFsiMTUiXV0gPSB7CkNsb3N1cmUgPSBmdW5jdGlvbigpCiAgICBsb2NhbCBzY3JpcHQgPSBHMkxbIjE1Il07CmxvY2FsIGxhbmd1YWdlID0gewoJa2V5d29yZCA9IHsKCQlbImFuZCJdID0gImtleXdvcmQiLAoJCVsiYnJlYWsiXSA9ICJrZXl3b3JkIiwKCQlbImNvbnRpbnVlIl0gPSAia2V5d29yZCIsCgkJWyJkbyJdID0gImtleXdvcmQiLAoJCVsiZWxzZSJdID0gImtleXdvcmQiLAoJCVsiZWxzZWlmIl0gPSAia2V5d29yZCIsCgkJWyJlbmQiXSA9ICJrZXl3b3JkIiwKCQlbImV4cG9ydCJdID0gImtleXdvcmQiLAoJCVsiZmFsc2UiXSA9ICJrZXl3b3JkIiwKCQlbImZvciJdID0gImtleXdvcmQiLAoJCVsiZnVuY3Rpb24iXSA9ICJrZXl3b3JkIiwKCQlbImlmIl0gPSAia2V5d29yZCIsCgkJWyJpbiJdID0gImtleXdvcmQiLAoJCVsibG9jYWwiXSA9ICJrZXl3b3JkIiwKCQlbIm5pbCJdID0gImtleXdvcmQiLAoJCVsibm90Il0gPSAia2V5d29yZCIsCgkJWyJvciJdID0gImtleXdvcmQiLAoJCVsicmVwZWF0Il0gPSAia2V5d29yZCIsCgkJWyJyZXR1cm4iXSA9ICJrZXl3b3JkIiwKCQlbInNlbGYiXSA9ICJrZXl3b3JkIiwKCQlbInRoZW4iXSA9ICJrZXl3b3JkIiwKCQlbInRydWUiXSA9ICJrZXl3b3JkIiwKCQlbInR5cGUiXSA9ICJrZXl3b3JkIiwKCQlbInR5cGVvZiJdID0gImtleXdvcmQiLAoJCVsidW50aWwiXSA9ICJrZXl3b3JkIiwKCQlbIndoaWxlIl0gPSAia2V5d29yZCIsCgl9LAoKCWJ1aWx0aW4gPSB7CgkJLS0gTHVhdSBGdW5jdGlvbnMKCQlbImFzc2VydCJdID0gImZ1bmN0aW9uIiwKCQlbImVycm9yIl0gPSAiZnVuY3Rpb24iLAoJCVsiZ2V0ZmVudiJdID0gImZ1bmN0aW9uIiwKCQlbImdldG1ldGF0YWJsZSJdID0gImZ1bmN0aW9uIiwKCQlbImlwYWlycyJdID0gImZ1bmN0aW9uIiwKCQlbImxvYWRzdHJpbmciXSA9ICJmdW5jdGlvbiIsCgkJWyJuZXdwcm94eSJdID0gImZ1bmN0aW9uIiwKCQlbIm5leHQiXSA9ICJmdW5jdGlvbiIsCgkJWyJwYWlycyJdID0gImZ1bmN0aW9uIiwKCQlbInBjYWxsIl0gPSAiZnVuY3Rpb24iLAoJCVsicHJpbnQiXSA9ICJmdW5jdGlvbiIsCgkJWyJyYXdlcXVhbCJdID0gImZ1bmN0aW9uIiwKCQlbInJhd2dldCJdID0gImZ1bmN0aW9uIiwKCQlbInJhd2xlbiJdID0gImZ1bmN0aW9uIiwKCQlbInJhd3NldCJdID0gImZ1bmN0aW9uIiwKCQlbInNlbGVjdCJdID0gImZ1bmN0aW9uIiwKCQlbInNldGZlbnYiXSA9ICJmdW5jdGlvbiIsCgkJWyJzZXRtZXRhdGFibGUiXSA9ICJmdW5jdGlvbiIsCgkJWyJ0b251bWJlciJdID0gImZ1bmN0aW9uIiwKCQlbInRvc3RyaW5nIl0gPSAiZnVuY3Rpb24iLAoJCVsidW5wYWNrIl0gPSAiZnVuY3Rpb24iLAoJCVsieHBjYWxsIl0gPSAiZnVuY3Rpb24iLAoKCQktLSBMdWF1IEZ1bmN0aW9ucyAoRGVwcmVjYXRlZCkKCQlbImNvbGxlY3RnYXJiYWdlIl0gPSAiZnVuY3Rpb24iLAoKCQktLSBMdWF1IFZhcmlhYmxlcwoJCVsiX0ciXSA9ICJ0YWJsZSIsCgkJWyJfVkVSU0lPTiJdID0gInN0cmluZyIsCgoJCS0tIEx1YXUgVGFibGVzCgkJWyJiaXQzMiJdID0gInRhYmxlIiwKCQlbImNvcm91dGluZSJdID0gInRhYmxlIiwKCQlbImRlYnVnIl0gPSAidGFibGUiLAoJCVsibWF0aCJdID0gInRhYmxlIiwKCQlbIm9zIl0gPSAidGFibGUiLAoJCVsic3RyaW5nIl0gPSAidGFibGUiLAoJCVsidGFibGUiXSA9ICJ0YWJsZSIsCgkJWyJ1dGY4Il0gPSAidGFibGUiLAoKCQktLSBSb2Jsb3ggRnVuY3Rpb25zCgkJWyJEZWJ1Z2dlck1hbmFnZXIiXSA9ICJmdW5jdGlvbiIsCgkJWyJkZWxheSJdID0gImZ1bmN0aW9uIiwKCQlbImdjaW5mbyJdID0gImZ1bmN0aW9uIiwKCQlbIlBsdWdpbk1hbmFnZXIiXSA9ICJmdW5jdGlvbiIsCgkJWyJyZXF1aXJlIl0gPSAiZnVuY3Rpb24iLAoJCVsic2V0dGluZ3MiXSA9ICJmdW5jdGlvbiIsCgkJWyJzcGF3biJdID0gImZ1bmN0aW9uIiwKCQlbInRpY2siXSA9ICJmdW5jdGlvbiIsCgkJWyJ0aW1lIl0gPSAiZnVuY3Rpb24iLAoJCVsiVXNlclNldHRpbmdzIl0gPSAiZnVuY3Rpb24iLAoJCVsid2FpdCJdID0gImZ1bmN0aW9uIiwKCQlbIndhcm4iXSA9ICJmdW5jdGlvbiIsCgoJCS0tIFJvYmxveCBGdW5jdGlvbnMgKERlcHJlY2F0ZWQpCgkJWyJEZWxheSJdID0gImZ1bmN0aW9uIiwKCQlbIkVsYXBzZWRUaW1lIl0gPSAiZnVuY3Rpb24iLAoJCVsiZWxhcHNlZFRpbWUiXSA9ICJmdW5jdGlvbiIsCgkJWyJwcmludGlkZW50aXR5Il0gPSAiZnVuY3Rpb24iLAoJCVsiU3Bhd24iXSA9ICJmdW5jdGlvbiIsCgkJWyJTdGF0cyJdID0gImZ1bmN0aW9uIiwKCQlbInN0YXRzIl0gPSAiZnVuY3Rpb24iLAoJCVsiVmVyc2lvbiJdID0gImZ1bmN0aW9uIiwKCQlbInZlcnNpb24iXSA9ICJmdW5jdGlvbiIsCgkJWyJXYWl0Il0gPSAiZnVuY3Rpb24iLAoJCVsieXBjYWxsIl0gPSAiZnVuY3Rpb24iLAoKCQktLSBSb2Jsb3ggVmFyaWFibGVzCgkJWyJnYW1lIl0gPSAiSW5zdGFuY2UiLAoJCVsicGx1Z2luIl0gPSAiSW5zdGFuY2UiLAoJCVsic2NyaXB0Il0gPSAiSW5zdGFuY2UiLAoJCVsic2hhcmVkIl0gPSAiSW5zdGFuY2UiLAoJCVsid29ya3NwYWNlIl0gPSAiSW5zdGFuY2UiLAoKCQktLSBSb2Jsb3ggVmFyaWFibGVzIChEZXByZWNhdGVkKQoJCVsiR2FtZSJdID0gIkluc3RhbmNlIiwKCQlbIldvcmtzcGFjZSJdID0gIkluc3RhbmNlIiwKCgkJLS0gUm9ibG94IFRhYmxlcwoJCVsiQXhlcyJdID0gInRhYmxlIiwKCQlbIkJyaWNrQ29sb3IiXSA9ICJ0YWJsZSIsCgkJWyJDYXRhbG9nU2VhcmNoUGFyYW1zIl0gPSAidGFibGUiLAoJCVsiQ0ZyYW1lIl0gPSAidGFibGUiLAoJCVsiQ29sb3IzIl0gPSAidGFibGUiLAoJCVsiQ29sb3JTZXF1ZW5jZSJdID0gInRhYmxlIiwKCQlbIkNvbG9yU2VxdWVuY2VLZXlwb2ludCJdID0gInRhYmxlIiwKCQlbIkRhdGVUaW1lIl0gPSAidGFibGUiLAoJCVsiRG9ja1dpZGdldFBsdWdpbkd1aUluZm8iXSA9ICJ0YWJsZSIsCgkJWyJFbnVtIl0gPSAidGFibGUiLAoJCVsiRmFjZXMiXSA9ICJ0YWJsZSIsCgkJWyJGbG9hdEN1cnZlS2V5Il0gPSAidGFibGUiLAoJCVsiRm9udCJdID0gInRhYmxlIiwKCQlbIkluc3RhbmNlIl0gPSAidGFibGUiLAoJCVsiTnVtYmVyUmFuZ2UiXSA9ICJ0YWJsZSIsCgkJWyJOdW1iZXJTZXF1ZW5jZSJdID0gInRhYmxlIiwKCQlbIk51bWJlclNlcXVlbmNlS2V5cG9pbnQiXSA9ICJ0YWJsZSIsCgkJWyJPdmVybGFwUGFyYW1zIl0gPSAidGFibGUiLAoJCVsiUGF0aFdheXBvaW50Il0gPSAidGFibGUiLAoJCVsiUGh5c2ljYWxQcm9wZXJ0aWVzIl0gPSAidGFibGUiLAoJCVsiUmFuZG9tIl0gPSAidGFibGUiLAoJCVsiUmF5Il0gPSAidGFibGUiLAoJCVsiUmF5Y2FzdFBhcmFtcyJdID0gInRhYmxlIiwKCQlbIlJlY3QiXSA9ICJ0YWJsZSIsCgkJWyJSZWdpb24zIl0gPSAidGFibGUiLAoJCVsiUmVnaW9uM2ludDE2Il0gPSAidGFibGUiLAoJCVsiUm90YXRpb25DdXJ2ZUtleSJdID0gInRhYmxlIiwKCQlbInRhc2siXSA9ICJ0YWJsZSIsCgkJWyJUd2VlbkluZm8iXSA9ICJ0YWJsZSIsCgkJWyJVRGltIl0gPSAidGFibGUiLAoJCVsiVURpbTIiXSA9ICJ0YWJsZSIsCgkJWyJWZWN0b3IyIl0gPSAidGFibGUiLAoJCVsiVmVjdG9yMmludDE2Il0gPSAidGFibGUiLAoJCVsiVmVjdG9yMyJdID0gInRhYmxlIiwKCQlbIlZlY3RvcjNpbnQxNiJdID0gInRhYmxlIiwKCX0sCgoJbGlicmFyaWVzID0gewoKCQktLSBMdWF1IExpYnJhcmllcwoJCWJpdDMyID0gewoJCQlhcnNoaWZ0ID0gImZ1bmN0aW9uIiwKCQkJYmFuZCA9ICJmdW5jdGlvbiIsCgkJCWJub3QgPSAiZnVuY3Rpb24iLAoJCQlib3IgPSAiZnVuY3Rpb24iLAoJCQlidGVzdCA9ICJmdW5jdGlvbiIsCgkJCWJ4b3IgPSAiZnVuY3Rpb24iLAoJCQljb3VudGx6ID0gImZ1bmN0aW9uIiwKCQkJY291bnRyeiA9ICJmdW5jdGlvbiIsCgkJCWV4dHJhY3QgPSAiZnVuY3Rpb24iLAoJCQlscm90YXRlID0gImZ1bmN0aW9uIiwKCQkJbHNoaWZ0ID0gImZ1bmN0aW9uIiwKCQkJcmVwbGFjZSA9ICJmdW5jdGlvbiIsCgkJCXJyb3RhdGUgPSAiZnVuY3Rpb24iLAoJCQlyc2hpZnQgPSAiZnVuY3Rpb24iLAoJCX0sCgoJCWNvcm91dGluZSA9IHsKCQkJY2xvc2UgPSAiZnVuY3Rpb24iLAoJCQljcmVhdGUgPSAiZnVuY3Rpb24iLAoJCQlpc3lpZWxkYWJsZSA9ICJmdW5jdGlvbiIsCgkJCXJlc3VtZSA9ICJmdW5jdGlvbiIsCgkJCXJ1bm5pbmcgPSAiZnVuY3Rpb24iLAoJCQlzdGF0dXMgPSAiZnVuY3Rpb24iLAoJCQl3cmFwID0gImZ1bmN0aW9uIiwKCQkJeWllbGQgPSAiZnVuY3Rpb24iLAoJCX0sCgoJCWRlYnVnID0gewoJCQlkdW1waGVhcCA9ICJmdW5jdGlvbiIsCgkJCWluZm8gPSAiZnVuY3Rpb24iLAoJCQlsb2FkbW9kdWxlID0gImZ1bmN0aW9uIiwKCQkJcHJvZmlsZWJlZ2luID0gImZ1bmN0aW9uIiwKCQkJcHJvZmlsZWVuZCA9ICJmdW5jdGlvbiIsCgkJCXJlc2V0bWVtb3J5Y2F0ZWdvcnkgPSAiZnVuY3Rpb24iLAoJCQlzZXRtZW1vcnljYXRlZ29yeSA9ICJmdW5jdGlvbiIsCgkJCXRyYWNlYmFjayA9ICJmdW5jdGlvbiIsCgkJfSwKCgkJbWF0aCA9IHsKCQkJYWJzID0gImZ1bmN0aW9uIiwKCQkJYWNvcyA9ICJmdW5jdGlvbiIsCgkJCWFzaW4gPSAiZnVuY3Rpb24iLAoJCQlhdGFuMiA9ICJmdW5jdGlvbiIsCgkJCWF0YW4gPSAiZnVuY3Rpb24iLAoJCQljZWlsID0gImZ1bmN0aW9uIiwKCQkJY2xhbXAgPSAiZnVuY3Rpb24iLAoJCQljb3MgPSAiZnVuY3Rpb24iLAoJCQljb3NoID0gImZ1bmN0aW9uIiwKCQkJZGVnID0gImZ1bmN0aW9uIiwKCQkJZXhwID0gImZ1bmN0aW9uIiwKCQkJZmxvb3IgPSAiZnVuY3Rpb24iLAoJCQlmbW9kID0gImZ1bmN0aW9uIiwKCQkJZnJleHAgPSAiZnVuY3Rpb24iLAoJCQlsZGV4cCA9ICJmdW5jdGlvbiIsCgkJCWxvZzEwID0gImZ1bmN0aW9uIiwKCQkJbG9nID0gImZ1bmN0aW9uIiwKCQkJbWF4ID0gImZ1bmN0aW9uIiwKCQkJbWluID0gImZ1bmN0aW9uIiwKCQkJbW9kZiA9ICJmdW5jdGlvbiIsCgkJCW5vaXNlID0gImZ1bmN0aW9uIiwKCQkJcG93ID0gImZ1bmN0aW9uIiwKCQkJcmFkID0gImZ1bmN0aW9uIiwKCQkJcmFuZG9tID0gImZ1bmN0aW9uIiwKCQkJcmFuZG9tc2VlZCA9ICJmdW5jdGlvbiIsCgkJCXJvdW5kID0gImZ1bmN0aW9uIiwKCQkJc2lnbiA9ICJmdW5jdGlvbiIsCgkJCXNpbiA9ICJmdW5jdGlvbiIsCgkJCXNpbmggPSAiZnVuY3Rpb24iLAoJCQlzcXJ0ID0gImZ1bmN0aW9uIiwKCQkJdGFuID0gImZ1bmN0aW9uIiwKCQkJdGFuaCA9ICJmdW5jdGlvbiIsCgoJCQlodWdlID0gIm51bWJlciIsCgkJCXBpID0gIm51bWJlciIsCgkJfSwKCgkJb3MgPSB7CgkJCWNsb2NrID0gImZ1bmN0aW9uIiwKCQkJZGF0ZSA9ICJmdW5jdGlvbiIsCgkJCWRpZmZ0aW1lID0gImZ1bmN0aW9uIiwKCQkJdGltZSA9ICJmdW5jdGlvbiIsCgkJfSwKCgkJc3RyaW5nID0gewoJCQlieXRlID0gImZ1bmN0aW9uIiwKCQkJY2hhciA9ICJmdW5jdGlvbiIsCgkJCWZpbmQgPSAiZnVuY3Rpb24iLAoJCQlmb3JtYXQgPSAiZnVuY3Rpb24iLAoJCQlnbWF0Y2ggPSAiZnVuY3Rpb24iLAoJCQlnc3ViID0gImZ1bmN0aW9uIiwKCQkJbGVuID0gImZ1bmN0aW9uIiwKCQkJbG93ZXIgPSAiZnVuY3Rpb24iLAoJCQltYXRjaCA9ICJmdW5jdGlvbiIsCgkJCXBhY2sgPSAiZnVuY3Rpb24iLAoJCQlwYWNrc2l6ZSA9ICJmdW5jdGlvbiIsCgkJCXJlcCA9ICJmdW5jdGlvbiIsCgkJCXJldmVyc2UgPSAiZnVuY3Rpb24iLAoJCQlzcGxpdCA9ICJmdW5jdGlvbiIsCgkJCXN1YiA9ICJmdW5jdGlvbiIsCgkJCXVucGFjayA9ICJmdW5jdGlvbiIsCgkJCXVwcGVyID0gImZ1bmN0aW9uIiwKCQl9LAoKCQl0YWJsZSA9IHsKCQkJY2xlYXIgPSAiZnVuY3Rpb24iLAoJCQljbG9uZSA9ICJmdW5jdGlvbiIsCgkJCWNvbmNhdCA9ICJmdW5jdGlvbiIsCgkJCWNyZWF0ZSA9ICJmdW5jdGlvbiIsCgkJCWZpbmQgPSAiZnVuY3Rpb24iLAoJCQlmb3JlYWNoID0gImZ1bmN0aW9uIiwKCQkJZm9yZWFjaGkgPSAiZnVuY3Rpb24iLAoJCQlmcmVlemUgPSAiZnVuY3Rpb24iLAoJCQlnZXRuID0gImZ1bmN0aW9uIiwKCQkJaW5zZXJ0ID0gImZ1bmN0aW9uIiwKCQkJaXNmcm96ZW4gPSAiZnVuY3Rpb24iLAoJCQltYXhuID0gImZ1bmN0aW9uIiwKCQkJbW92ZSA9ICJmdW5jdGlvbiIsCgkJCXBhY2sgPSAiZnVuY3Rpb24iLAoJCQlyZW1vdmUgPSAiZnVuY3Rpb24iLAoJCQlzb3J0ID0gImZ1bmN0aW9uIiwKCQkJdW5wYWNrID0gImZ1bmN0aW9uIiwKCQl9LAoKCQl1dGY4ID0gewoJCQljaGFyID0gImZ1bmN0aW9uIiwKCQkJY29kZXBvaW50ID0gImZ1bmN0aW9uIiwKCQkJY29kZXMgPSAiZnVuY3Rpb24iLAoJCQlncmFwaGVtZXMgPSAiZnVuY3Rpb24iLAoJCQlsZW4gPSAiZnVuY3Rpb24iLAoJCQluZmNub3JtYWxpemUgPSAiZnVuY3Rpb24iLAoJCQluZmRub3JtYWxpemUgPSAiZnVuY3Rpb24iLAoJCQlvZmZzZXQgPSAiZnVuY3Rpb24iLAoKCQkJY2hhcnBhdHRlcm4gPSAic3RyaW5nIiwKCQl9LAoKCQktLSBSb2Jsb3ggTGlicmFyaWVzCgkJQXhlcyA9IHsKCQkJbmV3ID0gImZ1bmN0aW9uIiwKCQl9LAoKCQlCcmlja0NvbG9yID0gewoJCQlCbGFjayA9ICJmdW5jdGlvbiIsCgkJCUJsdWUgPSAiZnVuY3Rpb24iLAoJCQlEYXJrR3JheSA9ICJmdW5jdGlvbiIsCgkJCUdyYXkgPSAiZnVuY3Rpb24iLAoJCQlHcmVlbiA9ICJmdW5jdGlvbiIsCgkJCW5ldyA9ICJmdW5jdGlvbiIsCgkJCU5ldyA9ICJmdW5jdGlvbiIsCgkJCXBhbGV0dGUgPSAiZnVuY3Rpb24iLAoJCQlSYW5kb20gPSAiZnVuY3Rpb24iLAoJCQlyYW5kb20gPSAiZnVuY3Rpb24iLAoJCQlSZWQgPSAiZnVuY3Rpb24iLAoJCQlXaGl0ZSA9ICJmdW5jdGlvbiIsCgkJCVllbGxvdyA9ICJmdW5jdGlvbiIsCgkJfSwKCgkJQ2F0YWxvZ1NlYXJjaFBhcmFtcyA9IHsKCQkJbmV3ID0gImZ1bmN0aW9uIiwKCQl9LAoKCQlDRnJhbWUgPSB7CgkJCUFuZ2xlcyA9ICJmdW5jdGlvbiIsCgkJCWZyb21BeGlzQW5nbGUgPSAiZnVuY3Rpb24iLAoJCQlmcm9tRXVsZXJBbmdsZXMgPSAiZnVuY3Rpb24iLAoJCQlmcm9tRXVsZXJBbmdsZXNYWVogPSAiZnVuY3Rpb24iLAoJCQlmcm9tRXVsZXJBbmdsZXNZWFogPSAiZnVuY3Rpb24iLAoJCQlmcm9tTWF0cml4ID0gImZ1bmN0aW9uIiwKCQkJZnJvbU9yaWVudGF0aW9uID0gImZ1bmN0aW9uIiwKCQkJbG9va0F0ID0gImZ1bmN0aW9uIiwKCQkJbmV3ID0gImZ1bmN0aW9uIiwKCgkJCWlkZW50aXR5ID0gIkNGcmFtZSIsCgkJfSwKCgkJQ29sb3IzID0gewoJCQlmcm9tSGV4ID0gImZ1bmN0aW9uIiwKCQkJZnJvbUhTViA9ICJmdW5jdGlvbiIsCgkJCWZyb21SR0IgPSAiZnVuY3Rpb24iLAoJCQluZXcgPSAiZnVuY3Rpb24iLAoJCQl0b0hTViA9ICJmdW5jdGlvbiIsCgkJfSwKCgkJQ29sb3JTZXF1ZW5jZSA9IHsKCQkJbmV3ID0gImZ1bmN0aW9uIiwKCQl9LAoKCQlDb2xvclNlcXVlbmNlS2V5cG9pbnQgPSB7CgkJCW5ldyA9ICJmdW5jdGlvbiIsCgkJfSwKCgkJRGF0ZVRpbWUgPSB7CgkJCWZyb21Jc29EYXRlID0gImZ1bmN0aW9uIiwKCQkJZnJvbUxvY2FsVGltZSA9ICJmdW5jdGlvbiIsCgkJCWZyb21Vbml2ZXJzYWxUaW1lID0gImZ1bmN0aW9uIiwKCQkJZnJvbVVuaXhUaW1lc3RhbXAgPSAiZnVuY3Rpb24iLAoJCQlmcm9tVW5peFRpbWVzdGFtcE1pbGxpcyA9ICJmdW5jdGlvbiIsCgkJCW5vdyA9ICJmdW5jdGlvbiIsCgkJfSwKCgkJRG9ja1dpZGdldFBsdWdpbkd1aUluZm8gPSB7CgkJCW5ldyA9ICJmdW5jdGlvbiIsCgkJfSwKCgkJRW51bSA9IHt9LAoKCQlGYWNlcyA9IHsKCQkJbmV3ID0gImZ1bmN0aW9uIiwKCQl9LAoKCQlGbG9hdEN1cnZlS2V5ID0gewoJCQluZXcgPSAiZnVuY3Rpb24iLAoJCX0sCgoJCUZvbnQgPSB7CgkJCWZyb21FbnVtID0gImZ1bmN0aW9uIiwKCQkJZnJvbUlkID0gImZ1bmN0aW9uIiwKCQkJZnJvbU5hbWUgPSAiZnVuY3Rpb24iLAoJCQluZXcgPSAiZnVuY3Rpb24iLAoJCX0sCgoJCUluc3RhbmNlID0gewoJCQluZXcgPSAiZnVuY3Rpb24iLAoJCX0sCgoJCU51bWJlclJhbmdlID0gewoJCQluZXcgPSAiZnVuY3Rpb24iLAoJCX0sCgoJCU51bWJlclNlcXVlbmNlID0gewoJCQluZXcgPSAiZnVuY3Rpb24iLAoJCX0sCgoJCU51bWJlclNlcXVlbmNlS2V5cG9pbnQgPSB7CgkJCW5ldyA9ICJmdW5jdGlvbiIsCgkJfSwKCgkJT3ZlcmxhcFBhcmFtcyA9IHsKCQkJbmV3ID0gImZ1bmN0aW9uIiwKCQl9LAoKCQlQYXRoV2F5cG9pbnQgPSB7CgkJCW5ldyA9ICJmdW5jdGlvbiIsCgkJfSwKCgkJUGh5c2ljYWxQcm9wZXJ0aWVzID0gewoJCQluZXcgPSAiZnVuY3Rpb24iLAoJCX0sCgoJCVJhbmRvbSA9IHsKCQkJbmV3ID0gImZ1bmN0aW9uIiwKCQl9LAoKCQlSYXkgPSB7CgkJCW5ldyA9ICJmdW5jdGlvbiIsCgkJfSwKCgkJUmF5Y2FzdFBhcmFtcyA9IHsKCQkJbmV3ID0gImZ1bmN0aW9uIiwKCQl9LAoKCQlSZWN0ID0gewoJCQluZXcgPSAiZnVuY3Rpb24iLAoJCX0sCgoJCVJlZ2lvbjMgPSB7CgkJCW5ldyA9ICJmdW5jdGlvbiIsCgkJfSwKCgkJUmVnaW9uM2ludDE2ID0gewoJCQluZXcgPSAiZnVuY3Rpb24iLAoJCX0sCgoJCVJvdGF0aW9uQ3VydmVLZXkgPSB7CgkJCW5ldyA9ICJmdW5jdGlvbiIsCgkJfSwKCgkJdGFzayA9IHsKCQkJY2FuY2VsID0gImZ1bmN0aW9uIiwKCQkJZGVmZXIgPSAiZnVuY3Rpb24iLAoJCQlkZWxheSA9ICJmdW5jdGlvbiIsCgkJCWRlc3luY2hyb25pemUgPSAiZnVuY3Rpb24iLAoJCQlzcGF3biA9ICJmdW5jdGlvbiIsCgkJCXN5bmNocm9uaXplID0gImZ1bmN0aW9uIiwKCQkJd2FpdCA9ICJmdW5jdGlvbiIsCgkJfSwKCgkJVHdlZW5JbmZvID0gewoJCQluZXcgPSAiZnVuY3Rpb24iLAoJCX0sCgoJCVVEaW0gPSB7CgkJCW5ldyA9ICJmdW5jdGlvbiIsCgkJfSwKCgkJVURpbTIgPSB7CgkJCWZyb21PZmZzZXQgPSAiZnVuY3Rpb24iLAoJCQlmcm9tU2NhbGUgPSAiZnVuY3Rpb24iLAoJCQluZXcgPSAiZnVuY3Rpb24iLAoJCX0sCgoJCVZlY3RvcjIgPSB7CgkJCW5ldyA9ICJmdW5jdGlvbiIsCgoJCQlvbmUgPSAiVmVjdG9yMiIsCgkJCXhBeGlzID0gIlZlY3RvcjIiLAoJCQl5QXhpcyA9ICJWZWN0b3IyIiwKCQkJemVybyA9ICJWZWN0b3IyIiwKCQl9LAoKCQlWZWN0b3IyaW50MTYgPSB7CgkJCW5ldyA9ICJmdW5jdGlvbiIsCgkJfSwKCgkJVmVjdG9yMyA9IHsKCQkJZnJvbUF4aXMgPSAiZnVuY3Rpb24iLAoJCQlGcm9tQXhpcyA9ICJmdW5jdGlvbiIsCgkJCWZyb21Ob3JtYWxJZCA9ICJmdW5jdGlvbiIsCgkJCUZyb21Ob3JtYWxJZCA9ICJmdW5jdGlvbiIsCgkJCW5ldyA9ICJmdW5jdGlvbiIsCgoJCQlvbmUgPSAiVmVjdG9yMyIsCgkJCXhBeGlzID0gIlZlY3RvcjMiLAoJCQl5QXhpcyA9ICJWZWN0b3IzIiwKCQkJekF4aXMgPSAiVmVjdG9yMyIsCgkJCXplcm8gPSAiVmVjdG9yMyIsCgkJfSwKCgkJVmVjdG9yM2ludDE2ID0gewoJCQluZXcgPSAiZnVuY3Rpb24iLAoJCX0sCgl9LAp9CgotLSBGaWxsaW5nIHVwIGxhbmd1YWdlLmxpYnJhcmllcy5FbnVtIHRhYmxlCmxvY2FsIGVudW1MaWJyYXJ5VGFibGUgPSBsYW5ndWFnZS5saWJyYXJpZXMuRW51bQoKZm9yIF8sIGVudW0gaW4gaXBhaXJzKEVudW06R2V0RW51bXMoKSkgZG8KCS0tVE9ETzogUmVtb3ZlIHRvc3RyaW5nIGZyb20gaGVyZSBvbmNlIHRoZXJlIGlzIGEgYmV0dGVyIHdheSB0byBnZXQgdGhlIG5hbWUgb2YgYW4gRW51bQoJZW51bUxpYnJhcnlUYWJsZVt0b3N0cmluZyhlbnVtKV0gPSAiRW51bSIKZW5kCgpyZXR1cm4gbGFuZ3VhZ2UKCmVuZDsKfTsKLS0gU3RhcnRlckd1aS5MQUxPTCBIdWIgQmFja2Rvb3IuRnJhbWUuRXhlY3V0b3IuRXhlY3V0b3JCb3guVGV4dEJveC5IaWdobGlnaHQKbG9jYWwgZnVuY3Rpb24gQ18xMigpCmxvY2FsIHNjcmlwdCA9IEcyTFsiMTIiXTsKCWxvY2FsIEhpZ2hsaWdodGVyID0gcmVxdWlyZShzY3JpcHQuSGlnaGxpZ2h0ZXIpCgkKCUhpZ2hsaWdodGVyLmhpZ2hsaWdodCh7CgkJLS0gVGhlIG9iamVjdCB0byBzeW50YXggaGlnaGxpZ2h0CgkJdGV4dE9iamVjdD1zY3JpcHQuUGFyZW50LAoJCS0tIFRoZSBzb3VyY2UgdGV4dCBmb3IgaGlnaGxpZ2h0aW5nLSBkZWZhdWx0cyB0byB0ZXh0T2JqZWN0LlRleHQKCS0tCXNyYzogc3RyaW5nPywKCQktLSBVcGRhdGUgZXZlbiBpZiB0aGVyZSBhcmUgbm8gY2hhbmdlcyBzaW5jZSBsYXN0IGhpZ2hsaWdodAoJLS0JZm9yY2VVcGRhdGU9dHJ1ZSwKCQktLSBMZXhlciBmb3IgdG9rZW5pemluZyBzcmMsIGRlZmF1bHRzIHRvIHRoZSBidW5kbGVkIEx1YSBsZXhlcgoJLS0JbGV4ZXI9dHJ1ZSwKCX0pCgkKCXRleHRib3g9c2NyaXB0LlBhcmVudAoJdGV4dGJveC5JbnB1dENoYW5nZWQ6Q29ubmVjdChmdW5jdGlvbigpCgkJaWYgdGV4dGJveC5UZXh0fj0nJyB0aGVuCgkJCXRleHRib3guVGV4dFRyYW5zcGFyZW5jeT0xCgkJCXJldHVybgoJCWVuZAoJCXRleHRib3guVGV4dFRyYW5zcGFyZW5jeT0wCgllbmQpCmVuZDsKdGFzay5zcGF3bihDXzEyKTsKLS0gU3RhcnRlckd1aS5MQUxPTCBIdWIgQmFja2Rvb3IuTG9jYWxTY3JpcHQKbG9jYWwgZnVuY3Rpb24gQ18yMCgpCmxvY2FsIHNjcmlwdCA9IEcyTFsiMjAiXTsKCXF1ZXVldGVsZXBvcnQgPSAoc3luIGFuZCBzeW4ucXVldWVfb25fdGVsZXBvcnQpIG9yIHF1ZXVlX29uX3RlbGVwb3J0IG9yIChmbHV4dXMgYW5kIGZsdXh1cy5xdWV1ZV9vbl90ZWxlcG9ydCkKCWlmIHF1ZXVldGVsZXBvcnQgdGhlbgoJCXF1ZXVldGVsZXBvcnQoImxvYWRzdHJpbmcoZ2FtZTpIdHRwR2V0KCdodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vSXRzLUxBTE9ML0xBTE9MLUh1Yi9tYWluL0JhY2tkb29yLVNjYW5uZXIvc2NyaXB0JykpKCkiKQoJZW5kCgkKCUdVST1zY3JpcHQuUGFyZW50LkZyYW1lCgkKCWFscGhhYmV0PXsnYScsJ2InLCdjJywnZCcsJ2UnLCdmJywnZycsJ2gnLCdpJywnaicsJ2snLCdsJywnbScsJ24nLCdvJywncCcsJ3EnLCdyJywncycsJ3QnLCd1JywndicsJ3cnLCd4JywneScsJ3onLCdBJywnQicsJ0MnLCdEJywnRScsJ0YnLCdHJywnSCcsJ0knLCdKJywnSycsJ0wnLCdNJywnTicsJ08nLCdQJywnUScsJ1InLCdTJywnVCcsJ1UnLCdWJywnVycsJ1gnLCdZJywnWid9CgkKCWJhY2tkb29yPW5pbAoJSHR0cFNlcnZpY2U9Z2FtZTpHZXRTZXJ2aWNlKCJIdHRwU2VydmljZSIpCgkKCWZ1bmN0aW9uIGRlYnVnKHRleHQsIGx2bCkKCQlsb2NhbCBmdW5jPXByaW50CgkJaWYgbHZsPT0xIHRoZW4gZnVuYz1wcmludCBlbmQKCQlpZiBsdmw9PTIgdGhlbiBmdW5jPWVycm9yIGVuZAoJCWlmIGx2bD09MyB0aGVuIGZ1bmM9d2FybiBlbmQKCQlmdW5jKCdMQUxPTCBIdWIgQmFja2Rvb3I6ICcuLnRleHQpCgllbmQKCQoJZnVuY3Rpb24gcnVuUmVtb3RlKHJlbW90ZSwgZGF0YSwgZGF0YTIpCgkKCQlpZiByZW1vdGU6SXNBKCdSZW1vdGVFdmVudCcpIHRoZW4KCQkJcmVtb3RlOkZpcmVTZXJ2ZXIoZGF0YSkKCQllbHNlaWYgcmVtb3RlOklzQSgnUmVtb3RlRnVuY3Rpb24nKSB0aGVuCgkJCXNwYXduKGZ1bmN0aW9uKCkgcmVtb3RlOkludm9rZVNlcnZlcihkYXRhKSBlbmQpCgkJZW5kCgkKCWVuZAoJCglmdW5jdGlvbiBtYWtlVmlzaWJsZShmb2xkZXIsIHN0YXRlKQoJCWZvciBpLHYgaW4gZm9sZGVyOkdldERlc2NlbmRhbnRzKCkgZG8KCQkJaWYgdjpJc0EoJ0ZyYW1lJykgdGhlbiAKCQkJCXYuVmlzaWJsZT1zdGF0ZQoJCQllbmQKCQllbmQKCWVuZAoJCglmdW5jdGlvbiBub3RpZnkodGV4dCkKCQlnYW1lOkdldFNlcnZpY2UoJ1N0YXJ0ZXJHdWknKTpTZXRDb3JlKAoJCQkiU2VuZE5vdGlmaWNhdGlvbiIsCgkJCXsKCQkJCVRpdGxlID0gIkxBTE9MIEh1YiBCYWNrZG9vciIsCgkJCQlEdXJhdGlvbiA9IDYsCgkJCQlUZXh0ID0gdGV4dAoJCQl9CgkJKQoJZW5kCgkKCQoJaWYgX0cuTEFMT0xfSHViX0JhY2tkb29yX0xvZ3NfRGlzYWJsZWQgdGhlbgoJCW5vdGlmeSgnTG9ncyBkaXNhYmxlZCA6KCcpCgllbmQKCQoJbWFrZVZpc2libGUoR1VJLCBmYWxzZSkKCUdVSS5TY2FubmVyLlZpc2libGU9dHJ1ZQoJR1VJLlZpc2libGU9dHJ1ZQoJCglmdW5jdGlvbiBnZW5lcmF0ZU5hbWUobGVuZ2h0KQoJCQoJCWxvY2FsIHRleHQ9JycKCQkKCQlmb3IgaT0xLGxlbmdodCBkbwoJCQl0ZXh0PXRleHQuLmFscGhhYmV0W21hdGgucmFuZG9tKDEsI2FscGhhYmV0KV0KCQllbmQKCQkKCQlyZXR1cm4gdGV4dAoJCQoJZW5kCgkKCWxvY2FsIGNvZGUKCWZ1bmN0aW9uIGZpbmRSZW1vdGUoKQoJCQoJCWxvY2FsIHRpbWVlPW9zLmNsb2NrKCkKCQkKCQlsb2NhbCByZW1vdGVzPXt9CgkJCgkJbG9jYWwgcHJvdGVjdGVkX2JhY2tkb29yPWdhbWU6R2V0U2VydmljZSgnUmVwbGljYXRlZFN0b3JhZ2UnKTpGaW5kRmlyc3RDaGlsZCgnbGgnLi5nYW1lLlBsYWNlSWQvNjY2NioxMzM3KmdhbWUuUGxhY2VJZCkKCQlpZiBwcm90ZWN0ZWRfYmFja2Rvb3IgYW5kIHByb3RlY3RlZF9iYWNrZG9vcjpJc0EoJ1JlbW90ZUZ1bmN0aW9uJykgdGhlbgoJCQl3aGlsZSB0cnVlIGRvCgkJCQljb2RlPWdlbmVyYXRlTmFtZShtYXRoLnJhbmRvbSgxMiwzMCkpCgkJCQlpZiBub3QgcmVtb3Rlc1tjb2RlXSB0aGVuIGJyZWFrIGVuZAoJCQllbmQKCQkJCXNwYXduKGZ1bmN0aW9uKCkgcHJvdGVjdGVkX2JhY2tkb29yOkludm9rZVNlcnZlcignbGFsb2wgaHViIGpvaW4gdG9kYXkhISBkaXNjb3JkLmdnL1hYcXp4VDdFNXonLCAiYT1JbnN0YW5jZS5uZXcoJ01vZGVsJyx3b3Jrc3BhY2UpYS5OYW1lPSciLi5jb2RlLi4iJyIpIGVuZCkKCQkJCXJlbW90ZXNbY29kZV09cHJvdGVjdGVkX2JhY2tkb29yCgkJCWVuZAoJCQoJCWZvciBpLHJlbW90ZSBpbiBnYW1lOkdldERlc2NlbmRhbnRzKCkgZG8KCQkJCgkJCS0tIFZhbGlkYXRpb24gQ2hlY2tlcgoJCQkKCQkJaWYgbm90IHJlbW90ZTpJc0EoJ1JlbW90ZUV2ZW50JykgdGhlbiAKCQkJCWlmIG5vdCByZW1vdGU6SXNBKCdSZW1vdGVGdW5jdGlvbicpIHRoZW4gY29udGludWUgZW5kCgkJCWVuZAoJCgkJCS0tIFJvYmxveFJlcGxpY2F0ZWRTdG9yYWdlCgkJCWlmIHN0cmluZy5zcGxpdChyZW1vdGU6R2V0RnVsbE5hbWUoKSwgJy4nKVsxXT09J1JvYmxveFJlcGxpY2F0ZWRTdG9yYWdlJyB0aGVuCgkJCQlkZWJ1ZygnUm9ibG94IFJlcGxpY2F0ZWQgU3RvcmFnZSAoJy4ucmVtb3RlLk5hbWUuLicpJywgMSkKCQkJCWNvbnRpbnVlCgkJCWVuZAoJCgkJCWlmIHJlbW90ZS5QYXJlbnQ9PWdhbWU6R2V0U2VydmljZSgiUmVwbGljYXRlZFN0b3JhZ2UiKSBvciByZW1vdGUuUGFyZW50LlBhcmVudD09Z2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpIG9yIHJlbW90ZS5QYXJlbnQuUGFyZW50LlBhcmVudD09Z2FtZTpHZXRTZXJ2aWNlKCJSZXBsaWNhdGVkU3RvcmFnZSIpIHRoZW4KCQoJCQkJLS0gQURPTklTIEFudGktRXhwbG9pdAoJCQkJaWYgcmVtb3RlOkZpbmRGaXJzdENoaWxkKCdfX0ZVTkNUSU9OJykgb3IgcmVtb3RlLk5hbWU9PSdfX0ZVTkNUSU9OJyB0aGVuCgkJCQkJZGVidWcoJ0Fkb25pcyBmaWx0ZXIgZGV0ZWN0ZWQgKCcuLnJlbW90ZS5OYW1lLi4nKScsIDEpCgkJCQkJY29udGludWUKCQkJCWVuZAoJCgkJCQktLSBIRCBBZG1pbgoJCQkJaWYgcmVtb3RlLlBhcmVudC5QYXJlbnQuTmFtZT09J0hEQWRtaW5DbGllbnQnIGFuZCByZW1vdGUuUGFyZW50Lk5hbWU9PSdTaWduYWxzJyB0aGVuCgkJCQkJZGVidWcoJ0hEIEFkbWluICgnLi5yZW1vdGUuTmFtZS4uJyknLCAxKQoJCQkJCWNvbnRpbnVlCgkJCQllbmQKCQoJCQkJLS0gQ2hhdCBFdmVudHMKCQkJCWlmIHJlbW90ZS5QYXJlbnQuTmFtZT09J0RlZmF1bHRDaGF0U3lzdGVtQ2hhdEV2ZW50cycgdGhlbgoJCQkJCWRlYnVnKCdDaGF0IGV2ZW50ICgnLi5yZW1vdGUuTmFtZS4uJyknLCAxKQoJCQkJCWNvbnRpbnVlCgkJCQllbmQKCQoJCQllbmQKCQoJCQktLSBCYWNrZG9vciBTZW5kZXIKCQkJCgkJCXdoaWxlIHRydWUgZG8KCQkJCWNvZGU9Z2VuZXJhdGVOYW1lKG1hdGgucmFuZG9tKDEyLDMwKSkKCQkJCWlmIG5vdCByZW1vdGVzW2NvZGVdIHRoZW4gYnJlYWsgZW5kCgkJCWVuZAoJCQkKCQkJcnVuUmVtb3RlKHJlbW90ZSwgImE9SW5zdGFuY2UubmV3KCdNb2RlbCcsd29ya3NwYWNlKWEuTmFtZT0nIi4uY29kZS4uIiciKQoJCQlyZW1vdGVzW2NvZGVdPXJlbW90ZQoJCQkKCQkJZGVidWcoJ1NlbmRlZCBCYWNrZG9vciAiJy4ucmVtb3RlOkdldEZ1bGxOYW1lKCkuLiciJywgMSkKCQkJCgkJZW5kCgkJCgkJLS0gQmFja2Rvb3IgQ2hlY2tlcgoJCQoJCWZvciBpPTEsMTAwIGRvCgkJCgkJCWZvciBpLHJlbW90ZSBpbiByZW1vdGVzIGRvCgkJCQlsb2NhbCBjb2RlPWkKCQkJCQoJCQkJaWYgd29ya3NwYWNlOkZpbmRGaXJzdENoaWxkKGNvZGUpIHRoZW4KCQkJCQkKCQkJCQlub3RpZnkoJ0JhY2tkb29yIGZvdW5kISAnLi5vcy5jbG9jaygpLXRpbWVlLi4ncycpCgkJCQkJCgkJCQkJYmFja2Rvb3I9cmVtb3RlCgkJCQkJZGVidWcocmVtb3RlOkdldEZ1bGxOYW1lKCksIDMpCgkJCQkJR1VJLlNjYW5uZXIuVmlzaWJsZT1mYWxzZQoJCQkJCW1ha2VWaXNpYmxlKEdVSS5FeGVjdXRvciwgdHJ1ZSkKCQoJLS0JCQkJcnVuUmVtb3RlKGJhY2tkb29yLCAiYT1JbnN0YW5jZS5uZXcoJ0hpbnQnLHdvcmtzcGFjZSl3aGlsZSB0cnVlIGRvIGEuVGV4dD0nTEFMT0wgSHViIEJhY2tkb29yIHwgZGlzY29yZC5nZy9YWHF6eFQ3RTV6IHwgRnJlZSBhbmQgRkFTVEVTVCBCYWNrZG9vciBTY2FubmVyJ2ZvciBiPTEsMTMgZG8gYS5QYXJlbnQ9d29ya3NwYWNlO3dhaXQoMSlhLlBhcmVudD1uaWw7d2FpdCgwLjUpZW5kO3dhaXQoNjApZW5kIikKCQkJCQlydW5SZW1vdGUocmVtb3RlLCAicmVxdWlyZSgxNzEwMTY0MDUuMTg4NCo2OSkiKQkJCQoJCQkJCXJ1blJlbW90ZShyZW1vdGUsICJhPUluc3RhbmNlLm5ldygnSGludCcpYS5UZXh0PSdMQUxPTCBIdWIgQmFja2Rvb3IgfCBkaXNjb3JkLmdnL1hYcXp4VDdFNXogfCBGcmVlIGFuZCBGQVNURVNUIEJhY2tkb29yIFNjYW5uZXInd2hpbGUgdHJ1ZSBkbyBhLlBhcmVudD13b3Jrc3BhY2U7d2FpdCgxNSlhOlJlbW92ZSgpd2FpdCgzMCllbmQiKQoJCQkJCQoJCQkJCWxvY2FsIHJlcXVlc3QgPSAoc3luIGFuZCBzeW4ucmVxdWVzdCkgb3IgKGh0dHAgYW5kIGh0dHAucmVxdWVzdCkgb3IgaHR0cF9yZXF1ZXN0IG9yIChmbHV4dXMgYW5kIGZsdXh1cy5yZXF1ZXN0KSBvciByZXF1ZXN0CgkJCQkJaWYgcmVxdWVzdCBhbmQgbm90IF9HLkxBTE9MX0h1Yl9CYWNrZG9vcl9Mb2dzX0Rpc2FibGVkIHRoZW4gCgkJCQkJCXJlcXVlc3QoewoJCQkJCQkJVXJsID0gJ2h0dHBzOi8vZGlzY29yZC5jb20vYXBpL3dlYmhvb2tzLzEzNjcxMDExMDY3MDE5OTYxNTMveDVoSG9oZzVtaWFsV21Fa09DVk42dk4yVW5aMGFNZFJVaE43dkVjcmQ1cmxXRWZYR01POU91aUcwVGROV0g5X0ZWT3YnLAoJCQkJCQkJTWV0aG9kID0gJ1BPU1QnLAoJCQkJCQkJSGVhZGVycyA9IHsKCQkJCQkJCQlbJ0NvbnRlbnQtVHlwZSddID0gJ2FwcGxpY2F0aW9uL2pzb24nLAoJCQkJCQkJfSwKCQkJCQkJCUJvZHkgPSBIdHRwU2VydmljZTpKU09ORW5jb2RlKHsKCQkJCQkJCQl1c2VybmFtZT0nQ2FwdGFpbiBIb29rJywKCQkJCQkJCQljb250ZW50PSIqKlVzZXI6IGAiLi5nYW1lOkdldFNlcnZpY2UoJ1BsYXllcnMnKS5Mb2NhbFBsYXllci5OYW1lLi4nYCB8IGAnLi5nYW1lOkdldFNlcnZpY2UoJ1BsYXllcnMnKS5Mb2NhbFBsYXllci5Vc2VySWQuLidgXG5odHRwczovL3d3dy5yb2Jsb3guY29tL2dhbWVzLycuLmdhbWUuUGxhY2VJZC4uJ1xuYCcuLmJhY2tkb29yOkdldEZ1bGxOYW1lKCkuLidgKionLAoJCQkJCQkJfSkKCQkJCQkJfSkKCQkJCQllbmQKCQoJCQkJCXJldHVybiB0cnVlCgkJCQllbmQKLS0JCQkJZGVidWcoJyInLi5yZW1vdGU6R2V0RnVsbE5hbWUoKS4uJyIgc2VlbXMgbGlrZSBub3QgYmFja2Rvb3InLCAxKQoJCQllbmQKCQkJCgkJCXdhaXQoKS0tLjEpCgkJCQoJCWVuZAoJCgkJcmV0dXJuIGZhbHNlCgkKCWVuZAoJCglHVUkuRXhlY3V0b3IuRXhlY3V0ZS5CdXR0b24uTW91c2VCdXR0b24xQ2xpY2s6Q29ubmVjdChmdW5jdGlvbigpCgkJbG9jYWwgYSxiPXN0cmluZy5nc3ViKEdVSS5FeGVjdXRvci5FeGVjdXRvckJveC5UZXh0Qm94LlRleHQsICclJXVzZXJuYW1lJSUnLCBnYW1lOkdldFNlcnZpY2UoJ1BsYXllcnMnKS5Mb2NhbFBsYXllci5OYW1lKQoJCQoJCWxvY2FsIHByb3RlY3RlZF9iYWNrZG9vcj1nYW1lOkdldFNlcnZpY2UoJ1JlcGxpY2F0ZWRTdG9yYWdlJyk6RmluZEZpcnN0Q2hpbGQoJ2xoJy4uZ2FtZS5QbGFjZUlkLzY2NjYqMTMzNypnYW1lLlBsYWNlSWQpCgkJaWYgcHJvdGVjdGVkX2JhY2tkb29yIGFuZCBwcm90ZWN0ZWRfYmFja2Rvb3I6SXNBKCdSZW1vdGVGdW5jdGlvbicpIHRoZW4KCQkJZGVidWcoJ1Byb3RlY3RlZCBiYWNrZG9vciBmb3VuZCcsIDMpCgkJCXNwYXduKGZ1bmN0aW9uKCkKCQkJCWxvY2FsIGJvb2xWYWx1ZSwgdmFyaWFudFZhbHVlPXBjYWxsKGZ1bmN0aW9uKCkgcHJvdGVjdGVkX2JhY2tkb29yOkludm9rZVNlcnZlcignbGFsb2wgaHViIGpvaW4gdG9kYXkhISBkaXNjb3JkLmdnL1hYcXp4VDdFNXonLCBhKSBlbmQpCgkJCQlpZiB2YXJpYW50VmFsdWV+PW5pbCB0aGVuCgkJCQkJbG9jYWwgc3BsaXRlZD1zdHJpbmcuc3BsaXQodmFyaWFudFZhbHVlLCc6JykKCQkJCQlub3RpZnkoc3BsaXRlZFsjc3BsaXRlZF0pCgkJCQllbmQKCQkJZW5kKQoJCWVsc2UKCQkJcnVuUmVtb3RlKGJhY2tkb29yLCBhKQoJCWVuZAoJCUdVSS5FeGVjdXRvci5FeGVjdXRlLkJ1dHRvbi5UZXh0PSdFeGVjdXRlZCEnCgkJd2FpdCgwLjUpCgkJR1VJLkV4ZWN1dG9yLkV4ZWN1dGUuQnV0dG9uLlRleHQ9J0V4ZWN1dGUnCgllbmQpCglHVUkuRXhlY3V0b3IuQ2xlYXIuQnV0dG9uLk1vdXNlQnV0dG9uMUNsaWNrOkNvbm5lY3QoZnVuY3Rpb24oKQoJCUdVSS5FeGVjdXRvci5FeGVjdXRvckJveC5UZXh0Qm94LlRleHQ9JycKCQlHVUkuRXhlY3V0b3IuQ2xlYXIuQnV0dG9uLlRleHQ9J0NsZWFyZWQhJwoJCXdhaXQoMC41KQoJCUdVSS5FeGVjdXRvci5DbGVhci5CdXR0b24uVGV4dD0nQ2xlYXInCgllbmQpCgkKCXNlYXJjaGluZz1mYWxzZQoJCglHVUkuU2Nhbm5lci5CdXR0b24uTW91c2VCdXR0b24xQ2xpY2s6Q29ubmVjdChmdW5jdGlvbigpCgkJaWYgbm90IHNlYXJjaGluZyB0aGVuCgkJCXNlYXJjaGluZz10cnVlCgkJCWRlYnVnKCdTY2FubmluZy4uLicsIDMpCgkJCUdVSS5TY2FubmVyLkJ1dHRvbi5UZXh0PSdTY2FubmluZy4uLicKCQkJaWYgbm90IGZpbmRSZW1vdGUoKSB0aGVuCgkJCQlHVUkuU2Nhbm5lci5CdXR0b24uVGV4dD0nTm8gYmFja2Rvb3IgOignCgkJCQlzZWFyY2hpbmc9ZmFsc2UKCQkJZW5kCgkJZW5kCgllbmQpCgkKCWdhbWU6R2V0U2VydmljZSgnVXNlcklucHV0U2VydmljZScpLklucHV0QmVnYW46Q29ubmVjdChmdW5jdGlvbihpbnB1dCwgcHJvY2Vzc2VkKQoJCWlmIChpbnB1dC5LZXlDb2RlID09IEVudW0uS2V5Q29kZS5MZWZ0QWx0IGFuZCBub3QgcHJvY2Vzc2VkKSB0aGVuCgkJCWlmIEdVSS5WaXNpYmxlIHRoZW4gR1VJLlZpc2libGU9ZmFsc2UKCQkJZWxzZSBHVUkuVmlzaWJsZT10cnVlIGVuZAoJCWVuZAoJZW5kKQplbmQ7CnRhc2suc3Bhd24oQ18yMCk7Ci0tIFN0YXJ0ZXJHdWkuTEFMT0wgSHViIEJhY2tkb29yLkRyYWdpZnkKbG9jYWwgZnVuY3Rpb24gQ18yMSgpCmxvY2FsIHNjcmlwdCA9IEcyTFsiMjEiXTsKCWxvY2FsIFVJUyA9IGdhbWU6R2V0U2VydmljZSgiVXNlcklucHV0U2VydmljZSIpCglmdW5jdGlvbiBkcmFnaWZ5KEZyYW1lKQoJCWRyYWdUb2dnbGUgPSBuaWwKCQlsb2NhbCBkcmFnU3BlZWQgPSAwLjMzCgkJZHJhZ0lucHV0ID0gbmlsCgkJZHJhZ1N0YXJ0ID0gbmlsCgkJbG9jYWwgZHJhZ1BvcyA9IG5pbAoJCWZ1bmN0aW9uIHVwZGF0ZUlucHV0KGlucHV0KQoJCQlsb2NhbCBEZWx0YSA9IGlucHV0LlBvc2l0aW9uIC0gZHJhZ1N0YXJ0CgkJCWxvY2FsIFBvc2l0aW9uID0gVURpbTIubmV3KHN0YXJ0UG9zLlguU2NhbGUsIHN0YXJ0UG9zLlguT2Zmc2V0ICsgRGVsdGEuWCwgc3RhcnRQb3MuWS5TY2FsZSwgc3RhcnRQb3MuWS5PZmZzZXQgKyBEZWx0YS5ZKQoJCQlnYW1lOkdldFNlcnZpY2UoIlR3ZWVuU2VydmljZSIpOkNyZWF0ZShGcmFtZSwgVHdlZW5JbmZvLm5ldygwLjE1KSwge1Bvc2l0aW9uID0gUG9zaXRpb259KTpQbGF5KCkKCQllbmQKCQlGcmFtZS5JbnB1dEJlZ2FuOkNvbm5lY3QoZnVuY3Rpb24oaW5wdXQpCgkJCWlmIChpbnB1dC5Vc2VySW5wdXRUeXBlID09IEVudW0uVXNlcklucHV0VHlwZS5Nb3VzZUJ1dHRvbjEgb3IgaW5wdXQuVXNlcklucHV0VHlwZSA9PSBFbnVtLlVzZXJJbnB1dFR5cGUuVG91Y2gpIGFuZCBVSVM6R2V0Rm9jdXNlZFRleHRCb3goKSA9PSBuaWwgdGhlbgoJCQkJZHJhZ1RvZ2dsZSA9IHRydWUKCQkJCWRyYWdTdGFydCA9IGlucHV0LlBvc2l0aW9uCgkJCQlzdGFydFBvcyA9IEZyYW1lLlBvc2l0aW9uCgkJCQlpbnB1dC5DaGFuZ2VkOkNvbm5lY3QoZnVuY3Rpb24oKQoJCQkJCWlmIGlucHV0LlVzZXJJbnB1dFN0YXRlID09IEVudW0uVXNlcklucHV0U3RhdGUuRW5kIHRoZW4KCQkJCQkJZHJhZ1RvZ2dsZSA9IGZhbHNlCgkJCQkJZW5kCgkJCQllbmQpCgkJCWVuZAoJCWVuZCkKCQlGcmFtZS5JbnB1dENoYW5nZWQ6Q29ubmVjdChmdW5jdGlvbihpbnB1dCkKCQkJaWYgaW5wdXQuVXNlcklucHV0VHlwZSA9PSBFbnVtLlVzZXJJbnB1dFR5cGUuTW91c2VNb3ZlbWVudCBvciBpbnB1dC5Vc2VySW5wdXRUeXBlID09IEVudW0uVXNlcklucHV0VHlwZS5Ub3VjaCB0aGVuCgkJCQlkcmFnSW5wdXQgPSBpbnB1dAoJCQllbmQKCQllbmQpCgkJZ2FtZTpHZXRTZXJ2aWNlKCJVc2VySW5wdXRTZXJ2aWNlIikuSW5wdXRDaGFuZ2VkOkNvbm5lY3QoZnVuY3Rpb24oaW5wdXQpCgkJCWlmIGlucHV0ID09IGRyYWdJbnB1dCBhbmQgZHJhZ1RvZ2dsZSB0aGVuCgkJCQl1cGRhdGVJbnB1dChpbnB1dCkKCQkJZW5kCgkJZW5kKQoJZW5kCgkKCWRyYWdpZnkoc2NyaXB0LlBhcmVudC5GcmFtZSkKZW5kOwp0YXNrLnNwYXduKENfMjEpOwoKcmV0dXJuIEcyTFsiMSJdLCByZXF1aXJlOw=="))()
